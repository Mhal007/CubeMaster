{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/michal-pc/Dokumenty/CubeMaster/client/imports/components/training/training.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx",["flow",{}],"nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}]],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/imports/components/training/training.tsx","filename":"/home/michal-pc/Dokumenty/CubeMaster/client/imports/components/training/training.tsx","inputSourceMap":{"version":3,"file":"client/imports/components/training/training.tsx","sourceRoot":"","sources":["client/imports/components/training/training.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport { Grid, Menu } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\n\nimport AlgSettings from '../algSettings';\nimport Averages from '../averages';\nimport TipsAndTricks from '../tipsAndTricks';\nimport TrainingMain from '../trainingMain';\n\nimport { getRandomScramble } from '/lib/global-helpers';\n\n// TODO to be moved\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n};\n\n// TODO to be moved\nconst toastNoActiveAlgorithms = () =>\n  toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description:\n      'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  onChangeAlgorithm = () => {\n    const { algorithms } = this.props;\n    const { currentAlgorithmId, currentCategory } = this.state;\n\n    this.onReset();\n\n    let newAlgorithm;\n    if (currentCategory.randomizableAlgorithm) {\n      const activeAlgorithms = algorithms.filter(\n        algorithm =>\n          !!algorithm.active && algorithm.category === currentCategory.value\n      );\n\n      if (!activeAlgorithms.length) {\n        toastNoActiveAlgorithms();\n      }\n\n      newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n    } else if (currentCategory.randomizableScramble) {\n      const scramble = getRandomScramble(25);\n      newAlgorithm = { category: currentCategory.value, scramble };\n    }\n\n    this.setState({\n      currentAlgorithm: newAlgorithm,\n      currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n    });\n  };\n\n  onChangeCategory = category => {\n    this.setState({ currentCategory: category }, () => {\n      this.onChangeAlgorithm();\n    });\n  };\n\n  onToggleActive = algorithm => {\n    Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n  };\n\n  onActivateAll = () => {\n    const { currentCategory } = this.state;\n    Meteor.call('algorithms.activateAll', currentCategory.value);\n  };\n\n  onDeactivateAll = () => {\n    Meteor.call('algorithms.deactivateAll');\n    toastNoActiveAlgorithms();\n  };\n\n  onKeyDown = event => {\n    const blocked = this.state.blocked;\n\n    if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n      event.preventDefault();\n      this.onGoToNextStatus('down');\n      this.setState({ blocked: { ...blocked, space: true } });\n    } else if (event.key === 'r') {\n      event.preventDefault();\n      this.onChangeAlgorithm();\n    } else if (event.key === 'Shift' && !blocked.shift) {\n      event.preventDefault();\n      this.setState({\n        blocked: { ...blocked, shift: true },\n        isVisibleSolution: true\n      });\n    } else if (event.key === 'Control' && !blocked.control) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, control: true } });\n    } else if (\n      (event.key === 'Backspace' ||\n        event.key === 'Delete' ||\n        event.key === 'Escape') &&\n      !blocked.delete\n    ) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, delete: true } });\n    }\n  };\n\n  onKeyPress = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n    }\n  };\n\n  onKeyUp = event => {\n    const { blocked, isVisibleSolution } = this.state;\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.onGoToNextStatus('up');\n      this.setState({ blocked: { ...blocked, space: false } });\n    } else if (event.key === 'Shift') {\n      this.setState({\n        blocked: { ...blocked, shift: false },\n        isVisibleSolution: false\n      });\n    } else if (event.key === 'Control') {\n      this.setState({\n        blocked: { ...blocked, control: false },\n        isVisibleSolution: !isVisibleSolution\n      });\n    } else if (\n      event.key === 'Backspace' ||\n      event.key === 'Delete' ||\n      event.key === 'Escape'\n    ) {\n      this.onChangeAlgorithm();\n      this.setState({ blocked: { ...blocked, delete: false } });\n    }\n  };\n\n  onGoToNextStatus = upOrDown => {\n    const {\n      blocked,\n      currentAlgorithm,\n      currentCategory,\n      timerCurrentValue,\n      timerStatus\n    } = this.state;\n\n    if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n      this.setState({ timerStatus: 'pre-inspection' });\n    } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n      this.setState({\n        timerStatus: 'timer-on',\n        timerStartValue: moment().valueOf()\n      });\n      this.timer = setInterval(this.updateTimerTime, 1);\n    } else if (\n      timerStatus === 'timer-on' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      clearInterval(this.timer);\n      this.setState({ timerStatus: 'timer-off' });\n    } else if (\n      timerStatus === 'timer-off' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      /* Save the time */\n      const result = {\n        ...(currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }),\n        category: currentCategory.value,\n        time: timerCurrentValue\n      };\n\n      Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n    }\n  };\n\n  onReset = () => {\n    clearInterval(this.timer);\n    this.setState({ timerStatus: 'resetted', timerCurrentValue: 0 });\n  };\n\n  updateTimerTime = () => {\n    this.setState(state => ({\n      timerCurrentValue: moment().valueOf() - state.timerStartValue\n    }));\n  };\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: { algorithms, categories },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n\n    const currentAlgorithms = algorithms.filter(\n      algorithm => algorithm.category === currentCategory.value\n    );\n\n    return (\n      <>\n        <SemanticToastContainer />\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu className=\"left-menu\" inverted tabular vertical>\n              {categories.map(category => (\n                <Menu.Item\n                  key={category.value}\n                  name={category.label}\n                  active={currentCategory.value === category.value}\n                  onClick={() => onChangeCategory(category)}\n                />\n              ))}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8} textAlign=\"center\">\n            <TrainingMain\n              currentAlgorithm={currentAlgorithm}\n              isVisibleSolution={isVisibleSolution}\n              onChangeAlgorithm={onChangeAlgorithm}\n              timerCurrentValue={timerCurrentValue}\n            />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <Averages\n              currentAlgorithm={currentAlgorithm}\n              currentCategory={currentCategory}\n            />\n            <TipsAndTricks />\n          </Grid.Column>\n        </Grid>\n        {this.state.settingsOpened && (\n          <AlgSettings\n            algorithms={currentAlgorithms}\n            currentCategory={currentCategory}\n            onActivateAll={onActivateAll}\n            onToggleActive={onToggleActive}\n            onDeactivateAll={onDeactivateAll}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default Training;\n"]},"passPerPreset":false,"envName":"development","cwd":"/home/michal-pc/Dokumenty/CubeMaster","root":"/home/michal-pc/Dokumenty/CubeMaster","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.7.1","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"TSModuleBlock":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/michal-pc/Dokumenty/CubeMaster/client/imports/components/training/training.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/imports/components/training/training.tsx"}},"code":"var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 1);\nvar Grid, Menu;\nmodule.link(\"semantic-ui-react\", {\n  Grid: function (v) {\n    Grid = v;\n  },\n  Menu: function (v) {\n    Menu = v;\n  }\n}, 2);\nvar SemanticToastContainer, toast;\nmodule.link(\"react-semantic-toasts\", {\n  SemanticToastContainer: function (v) {\n    SemanticToastContainer = v;\n  },\n  toast: function (v) {\n    toast = v;\n  }\n}, 3);\nvar AlgSettings;\nmodule.link(\"../algSettings\", {\n  \"default\": function (v) {\n    AlgSettings = v;\n  }\n}, 4);\nvar Averages;\nmodule.link(\"../averages\", {\n  \"default\": function (v) {\n    Averages = v;\n  }\n}, 5);\nvar TipsAndTricks;\nmodule.link(\"../tipsAndTricks\", {\n  \"default\": function (v) {\n    TipsAndTricks = v;\n  }\n}, 6);\nvar TrainingMain;\nmodule.link(\"../trainingMain\", {\n  \"default\": function (v) {\n    TrainingMain = v;\n  }\n}, 7);\nvar getRandomScramble;\nmodule.link(\"/lib/global-helpers\", {\n  getRandomScramble: function (v) {\n    getRandomScramble = v;\n  }\n}, 8);\n\n// TODO to be moved\nvar getRandomEntry = function (array, excludeId) {\n  var index = Math.floor(Math.random() * array.length);\n  var entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n}; // TODO to be moved\n\n\nvar toastNoActiveAlgorithms = function () {\n  return toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description: 'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n};\n\nvar Training =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Training, _Component);\n\n  function Training(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onChangeAlgorithm = function () {\n      var algorithms = _this.props.algorithms;\n      var _this$state = _this.state,\n          currentAlgorithmId = _this$state.currentAlgorithmId,\n          currentCategory = _this$state.currentCategory;\n\n      _this.onReset();\n\n      var newAlgorithm;\n\n      if (currentCategory.randomizableAlgorithm) {\n        var activeAlgorithms = algorithms.filter(function (algorithm) {\n          return !!algorithm.active && algorithm.category === currentCategory.value;\n        });\n\n        if (!activeAlgorithms.length) {\n          toastNoActiveAlgorithms();\n        }\n\n        newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n      } else if (currentCategory.randomizableScramble) {\n        var scramble = getRandomScramble(25);\n        newAlgorithm = {\n          category: currentCategory.value,\n          scramble: scramble\n        };\n      }\n\n      _this.setState({\n        currentAlgorithm: newAlgorithm,\n        currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n\n      });\n    };\n\n    _this.onChangeCategory = function (category) {\n      _this.setState({\n        currentCategory: category\n      }, function () {\n        _this.onChangeAlgorithm();\n      });\n    };\n\n    _this.onToggleActive = function (algorithm) {\n      Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n    };\n\n    _this.onActivateAll = function () {\n      var currentCategory = _this.state.currentCategory;\n      Meteor.call('algorithms.activateAll', currentCategory.value);\n    };\n\n    _this.onDeactivateAll = function () {\n      Meteor.call('algorithms.deactivateAll');\n      toastNoActiveAlgorithms();\n    };\n\n    _this.onKeyDown = function (event) {\n      var blocked = _this.state.blocked;\n\n      if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n        event.preventDefault();\n\n        _this.onGoToNextStatus('down');\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: true\n          })\n        });\n      } else if (event.key === 'r') {\n        event.preventDefault();\n\n        _this.onChangeAlgorithm();\n      } else if (event.key === 'Shift' && !blocked.shift) {\n        event.preventDefault();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: true\n          }),\n          isVisibleSolution: true\n        });\n      } else if (event.key === 'Control' && !blocked.control) {\n        event.preventDefault();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: true\n          })\n        });\n      } else if ((event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') && !blocked.delete) {\n        event.preventDefault();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            \"delete\": true\n          })\n        });\n      }\n    };\n\n    _this.onKeyPress = function (event) {\n      if (event.key === ' ') {\n        event.preventDefault();\n      }\n    };\n\n    _this.onKeyUp = function (event) {\n      var _this$state2 = _this.state,\n          blocked = _this$state2.blocked,\n          isVisibleSolution = _this$state2.isVisibleSolution;\n\n      if (event.key === 'Enter' || event.key === ' ') {\n        _this.onGoToNextStatus('up');\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: false\n          })\n        });\n      } else if (event.key === 'Shift') {\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: false\n          }),\n          isVisibleSolution: false\n        });\n      } else if (event.key === 'Control') {\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: false\n          }),\n          isVisibleSolution: !isVisibleSolution\n        });\n      } else if (event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') {\n        _this.onChangeAlgorithm();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            \"delete\": false\n          })\n        });\n      }\n    };\n\n    _this.onGoToNextStatus = function (upOrDown) {\n      var _this$state3 = _this.state,\n          blocked = _this$state3.blocked,\n          currentAlgorithm = _this$state3.currentAlgorithm,\n          currentCategory = _this$state3.currentCategory,\n          timerCurrentValue = _this$state3.timerCurrentValue,\n          timerStatus = _this$state3.timerStatus;\n\n      if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n        _this.setState({\n          timerStatus: 'pre-inspection'\n        });\n      } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n        _this.setState({\n          timerStatus: 'timer-on',\n          timerStartValue: moment().valueOf()\n        });\n\n        _this.timer = setInterval(_this.updateTimerTime, 1);\n      } else if (timerStatus === 'timer-on' && upOrDown === 'down' && !blocked.space) {\n        clearInterval(_this.timer);\n\n        _this.setState({\n          timerStatus: 'timer-off'\n        });\n      } else if (timerStatus === 'timer-off' && upOrDown === 'down' && !blocked.space) {\n        /* Save the time */\n        var result = _objectSpread({}, currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }, {\n          category: currentCategory.value,\n          time: timerCurrentValue\n        });\n\n        Meteor.call('results.insert', result, function () {\n          return _this.onChangeAlgorithm();\n        });\n      }\n    };\n\n    _this.onReset = function () {\n      clearInterval(_this.timer);\n\n      _this.setState({\n        timerStatus: 'resetted',\n        timerCurrentValue: 0\n      });\n    };\n\n    _this.updateTimerTime = function () {\n      _this.setState(function (state) {\n        return {\n          timerCurrentValue: moment().valueOf() - state.timerStartValue\n        };\n      });\n    };\n\n    _this.state = {\n      blocked: {\n        control: false,\n        \"delete\": false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: _this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n    return _this;\n  }\n\n  var _proto = Training.prototype;\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      this.onChangeAlgorithm();\n      document.body.addEventListener('keydown', this.onKeyDown);\n      document.body.addEventListener('keypress', this.onKeyPress);\n      document.body.addEventListener('keyup', this.onKeyUp);\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      document.body.removeEventListener('keydown', this.onKeyDown);\n      document.body.removeEventListener('keypress', this.onKeyPress);\n      document.body.removeEventListener('keyup', this.onKeyUp);\n    }\n\n    return componentWillUnmount;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this$state4 = this.state,\n          currentAlgorithm = _this$state4.currentAlgorithm,\n          currentCategory = _this$state4.currentCategory,\n          isVisibleSolution = _this$state4.isVisibleSolution,\n          timerCurrentValue = _this$state4.timerCurrentValue,\n          _this$props = this.props,\n          algorithms = _this$props.algorithms,\n          categories = _this$props.categories,\n          onActivateAll = this.onActivateAll,\n          onToggleActive = this.onToggleActive,\n          onChangeAlgorithm = this.onChangeAlgorithm,\n          onChangeCategory = this.onChangeCategory,\n          onDeactivateAll = this.onDeactivateAll;\n      var currentAlgorithms = algorithms.filter(function (algorithm) {\n        return algorithm.category === currentCategory.value;\n      });\n      return React.createElement(React.Fragment, null, React.createElement(SemanticToastContainer, null), React.createElement(Grid, null, React.createElement(Grid.Column, {\n        width: 4\n      }, React.createElement(Menu, {\n        className: \"left-menu\",\n        inverted: true,\n        tabular: true,\n        vertical: true\n      }, categories.map(function (category) {\n        return React.createElement(Menu.Item, {\n          key: category.value,\n          name: category.label,\n          active: currentCategory.value === category.value,\n          onClick: function () {\n            return onChangeCategory(category);\n          }\n        });\n      }))), React.createElement(Grid.Column, {\n        width: 8,\n        textAlign: \"center\"\n      }, React.createElement(TrainingMain, {\n        currentAlgorithm: currentAlgorithm,\n        isVisibleSolution: isVisibleSolution,\n        onChangeAlgorithm: onChangeAlgorithm,\n        timerCurrentValue: timerCurrentValue\n      })), React.createElement(Grid.Column, {\n        width: 4\n      }, React.createElement(Averages, {\n        currentAlgorithm: currentAlgorithm,\n        currentCategory: currentCategory\n      }), React.createElement(TipsAndTricks, null))), this.state.settingsOpened && React.createElement(AlgSettings, {\n        algorithms: currentAlgorithms,\n        currentCategory: currentCategory,\n        onActivateAll: onActivateAll,\n        onToggleActive: onToggleActive,\n        onDeactivateAll: onDeactivateAll\n      }));\n    }\n\n    return render;\n  }();\n\n  return Training;\n}(Component);\n\nmodule.exportDefault(Training);","map":{"version":3,"sources":["client/imports/components/training/training.tsx"],"names":[],"mappings":"AAAA,IAAA,aAAA;;AAAgB,MAAA,CAAS,IAAT,CAAW,sCAAX,EAAyB;AAAA,EAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,aAAA,GAAA,CAAA;AAAA;AAAA,CAAzB,EAAyB,CAAzB;;AAAyB,IAAA,cAAA;;AAAA,MAAA,CAAA,IAAA,CAAA,sCAAA,EAAA;AAAA,EAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,cAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAzC,IAAA,KAAA,EAAO,SAAP;AAAgB,MAAS,CAAE,IAAX,CAAW,OAAX,EAAwB;AAAC,aAAA,UAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,CAAA;AAAA,GAAD;AAAC,EAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA;AAAD,CAAxB,EAAyB,CAAzB;AAAyB,IAAA,MAAA;AAAA,MAAA,CAAA,IAAA,CAAA,QAAA,EAAA;AAAA,aAAA,UAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,IAAA,EAAA,IAAA;AAAA,MAAA,CAAA,IAAA,CAAA,mBAAA,EAAA;AAAA,EAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,IAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,sBAAA,EAAA,KAAA;AAAA,MAAA,CAAA,IAAA,CAAA,uBAAA,EAAA;AAAA,EAAA,sBAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,sBAAA,GAAA,CAAA;AAAA,GAAA;AAAA,EAAA,KAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,WAAA;AAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,aAAA,UAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,QAAA;AAAA,MAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AAAA,aAAA,UAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,aAAA;AAAA,MAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AAAA,aAAA,UAAA,CAAA,EAAA;AAAA,IAAA,aAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,YAAA;AAAA,MAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AAAA,aAAA,UAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,iBAAA;AAAA,MAAA,CAAA,IAAA,CAAA,qBAAA,EAAA;AAAA,EAAA,iBAAA,EAAA,UAAA,CAAA,EAAA;AAAA,IAAA,iBAAA,GAAA,CAAA;AAAA;AAAA,CAAA,EAAA,CAAA;;AAYzC;AACA,IAAM,cAAc,GAAG,UAAC,KAAD,EAAQ,SAAR,EAAqB;AAC1C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,KAAK,CAAC,MAAjC,CAAd;AACA,MAAM,KAAK,GAAG,KAAK,CAAC,KAAD,CAAnB;;AAEA,MAAI,KAAK,CAAC,MAAN,GAAe,CAAf,IAAoB,SAApB,IAAiC,KAAK,CAAC,GAAN,KAAc,SAAnD,EAA8D;AAC5D,WAAO,cAAc,CAAC,KAAD,EAAQ,SAAR,CAArB;AACD;;AAED,SAAO,KAAP;AACD,CATD,C,CAWA;;;AACA,IAAM,uBAAuB,GAAG;AAAA,SAC9B,KAAK,CAAC;AACJ,IAAA,KAAK,EAAE,sBADH;AAEJ,IAAA,IAAI,EAAE,SAFF;AAGJ,IAAA,WAAW,EACT,uEAJE;AAKJ,IAAA,IAAI,EAAE;AALF,GAAD,CADyB;AAAA,CAAhC;;IASM,Q;;;;;AACJ,oBAAY,KAAZ,EAAiB;AAAA;;AACf,kCAAM,KAAN;;AAyCF,UAAA,iBAAA,GAAoB,YAAK;AAAA,UACf,UADe,GACA,MAAK,KADL,CACf,UADe;AAAA,wBAEyB,MAAK,KAF9B;AAAA,UAEf,kBAFe,eAEf,kBAFe;AAAA,UAEK,eAFL,eAEK,eAFL;;AAIvB,YAAK,OAAL;;AAEA,UAAI,YAAJ;;AACA,UAAI,eAAe,CAAC,qBAApB,EAA2C;AACzC,YAAM,gBAAgB,GAAG,UAAU,CAAC,MAAX,CACvB,UAAA,SAAS;AAAA,iBACP,CAAC,CAAC,SAAS,CAAC,MAAZ,IAAsB,SAAS,CAAC,QAAV,KAAuB,eAAe,CAAC,KADtD;AAAA,SADc,CAAzB;;AAKA,YAAI,CAAC,gBAAgB,CAAC,MAAtB,EAA8B;AAC5B,UAAA,uBAAuB;AACxB;;AAED,QAAA,YAAY,GAAG,cAAc,CAAC,gBAAD,EAAmB,kBAAnB,CAA7B;AACD,OAXD,MAWO,IAAI,eAAe,CAAC,oBAApB,EAA0C;AAC/C,YAAM,QAAQ,GAAG,iBAAiB,CAAC,EAAD,CAAlC;AACA,QAAA,YAAY,GAAG;AAAE,UAAA,QAAQ,EAAE,eAAe,CAAC,KAA5B;AAAmC,UAAA,QAAQ,EAAR;AAAnC,SAAf;AACD;;AAED,YAAK,QAAL,CAAc;AACZ,QAAA,gBAAgB,EAAE,YADN;AAEZ,QAAA,kBAAkB,EAAE,YAAY,IAAI,YAAY,CAAC,GAFrC,CAEyC;;AAFzC,OAAd;AAID,KA3BD;;AA6BA,UAAA,gBAAA,GAAmB,UAAA,QAAQ,EAAG;AAC5B,YAAK,QAAL,CAAc;AAAE,QAAA,eAAe,EAAE;AAAnB,OAAd,EAA6C,YAAK;AAChD,cAAK,iBAAL;AACD,OAFD;AAGD,KAJD;;AAMA,UAAA,cAAA,GAAiB,UAAA,SAAS,EAAG;AAC3B,MAAA,MAAM,CAAC,IAAP,CAAY,yBAAZ,EAAuC,SAAS,CAAC,GAAjD,EAAsD,CAAC,SAAS,CAAC,MAAjE;AACD,KAFD;;AAIA,UAAA,aAAA,GAAgB,YAAK;AAAA,UACX,eADW,GACS,MAAK,KADd,CACX,eADW;AAEnB,MAAA,MAAM,CAAC,IAAP,CAAY,wBAAZ,EAAsC,eAAe,CAAC,KAAtD;AACD,KAHD;;AAKA,UAAA,eAAA,GAAkB,YAAK;AACrB,MAAA,MAAM,CAAC,IAAP,CAAY,0BAAZ;AACA,MAAA,uBAAuB;AACxB,KAHD;;AAKA,UAAA,SAAA,GAAY,UAAA,KAAK,EAAG;AAClB,UAAM,OAAO,GAAG,MAAK,KAAL,CAAW,OAA3B;;AAEA,UAAI,CAAC,KAAK,CAAC,GAAN,KAAc,OAAd,IAAyB,KAAK,CAAC,GAAN,KAAc,GAAxC,KAAgD,CAAC,OAAO,CAAC,KAA7D,EAAoE;AAClE,QAAA,KAAK,CAAC,cAAN;;AACA,cAAK,gBAAL,CAAsB,MAAtB;;AACA,cAAK,QAAL,CAAc;AAAE,UAAA,OAAO,oBAAO,OAAP;AAAgB,YAAA,KAAK,EAAE;AAAvB;AAAT,SAAd;AACD,OAJD,MAIO,IAAI,KAAK,CAAC,GAAN,KAAc,GAAlB,EAAuB;AAC5B,QAAA,KAAK,CAAC,cAAN;;AACA,cAAK,iBAAL;AACD,OAHM,MAGA,IAAI,KAAK,CAAC,GAAN,KAAc,OAAd,IAAyB,CAAC,OAAO,CAAC,KAAtC,EAA6C;AAClD,QAAA,KAAK,CAAC,cAAN;;AACA,cAAK,QAAL,CAAc;AACZ,UAAA,OAAO,oBAAO,OAAP;AAAgB,YAAA,KAAK,EAAE;AAAvB,YADK;AAEZ,UAAA,iBAAiB,EAAE;AAFP,SAAd;AAID,OANM,MAMA,IAAI,KAAK,CAAC,GAAN,KAAc,SAAd,IAA2B,CAAC,OAAO,CAAC,OAAxC,EAAiD;AACtD,QAAA,KAAK,CAAC,cAAN;;AACA,cAAK,QAAL,CAAc;AAAE,UAAA,OAAO,oBAAO,OAAP;AAAgB,YAAA,OAAO,EAAE;AAAzB;AAAT,SAAd;AACD,OAHM,MAGA,IACL,CAAC,KAAK,CAAC,GAAN,KAAc,WAAd,IACC,KAAK,CAAC,GAAN,KAAc,QADf,IAEC,KAAK,CAAC,GAAN,KAAc,QAFhB,KAGA,CAAC,OAAO,CAAC,MAJJ,EAKL;AACA,QAAA,KAAK,CAAC,cAAN;;AACA,cAAK,QAAL,CAAc;AAAE,UAAA,OAAO,oBAAO,OAAP;AAAgB,sBAAQ;AAAxB;AAAT,SAAd;AACD;AACF,KA5BD;;AA8BA,UAAA,UAAA,GAAa,UAAA,KAAK,EAAG;AACnB,UAAI,KAAK,CAAC,GAAN,KAAc,GAAlB,EAAuB;AACrB,QAAA,KAAK,CAAC,cAAN;AACD;AACF,KAJD;;AAMA,UAAA,OAAA,GAAU,UAAA,KAAK,EAAG;AAAA,yBACuB,MAAK,KAD5B;AAAA,UACR,OADQ,gBACR,OADQ;AAAA,UACC,iBADD,gBACC,iBADD;;AAGhB,UAAI,KAAK,CAAC,GAAN,KAAc,OAAd,IAAyB,KAAK,CAAC,GAAN,KAAc,GAA3C,EAAgD;AAC9C,cAAK,gBAAL,CAAsB,IAAtB;;AACA,cAAK,QAAL,CAAc;AAAE,UAAA,OAAO,oBAAO,OAAP;AAAgB,YAAA,KAAK,EAAE;AAAvB;AAAT,SAAd;AACD,OAHD,MAGO,IAAI,KAAK,CAAC,GAAN,KAAc,OAAlB,EAA2B;AAChC,cAAK,QAAL,CAAc;AACZ,UAAA,OAAO,oBAAO,OAAP;AAAgB,YAAA,KAAK,EAAE;AAAvB,YADK;AAEZ,UAAA,iBAAiB,EAAE;AAFP,SAAd;AAID,OALM,MAKA,IAAI,KAAK,CAAC,GAAN,KAAc,SAAlB,EAA6B;AAClC,cAAK,QAAL,CAAc;AACZ,UAAA,OAAO,oBAAO,OAAP;AAAgB,YAAA,OAAO,EAAE;AAAzB,YADK;AAEZ,UAAA,iBAAiB,EAAE,CAAC;AAFR,SAAd;AAID,OALM,MAKA,IACL,KAAK,CAAC,GAAN,KAAc,WAAd,IACA,KAAK,CAAC,GAAN,KAAc,QADd,IAEA,KAAK,CAAC,GAAN,KAAc,QAHT,EAIL;AACA,cAAK,iBAAL;;AACA,cAAK,QAAL,CAAc;AAAE,UAAA,OAAO,oBAAO,OAAP;AAAgB,sBAAQ;AAAxB;AAAT,SAAd;AACD;AACF,KAxBD;;AA0BA,UAAA,gBAAA,GAAmB,UAAA,QAAQ,EAAG;AAAA,yBAOxB,MAAK,KAPmB;AAAA,UAE1B,OAF0B,gBAE1B,OAF0B;AAAA,UAG1B,gBAH0B,gBAG1B,gBAH0B;AAAA,UAI1B,eAJ0B,gBAI1B,eAJ0B;AAAA,UAK1B,iBAL0B,gBAK1B,iBAL0B;AAAA,UAM1B,WAN0B,gBAM1B,WAN0B;;AAS5B,UAAI,WAAW,KAAK,UAAhB,IAA8B,QAAQ,KAAK,MAA3C,IAAqD,CAAC,OAAO,CAAC,KAAlE,EAAyE;AACvE,cAAK,QAAL,CAAc;AAAE,UAAA,WAAW,EAAE;AAAf,SAAd;AACD,OAFD,MAEO,IAAI,WAAW,KAAK,gBAAhB,IAAoC,QAAQ,KAAK,IAArD,EAA2D;AAChE,cAAK,QAAL,CAAc;AACZ,UAAA,WAAW,EAAE,UADD;AAEZ,UAAA,eAAe,EAAE,MAAM,GAAG,OAAT;AAFL,SAAd;;AAIA,cAAK,KAAL,GAAa,WAAW,CAAC,MAAK,eAAN,EAAuB,CAAvB,CAAxB;AACD,OANM,MAMA,IACL,WAAW,KAAK,UAAhB,IACA,QAAQ,KAAK,MADb,IAEA,CAAC,OAAO,CAAC,KAHJ,EAIL;AACA,QAAA,aAAa,CAAC,MAAK,KAAN,CAAb;;AACA,cAAK,QAAL,CAAc;AAAE,UAAA,WAAW,EAAE;AAAf,SAAd;AACD,OAPM,MAOA,IACL,WAAW,KAAK,WAAhB,IACA,QAAQ,KAAK,MADb,IAEA,CAAC,OAAO,CAAC,KAHJ,EAIL;AACA;AACA,YAAM,MAAM,qBACN,gBAAgB,IAAI;AACtB,UAAA,WAAW,EAAE,gBAAgB,CAAC,GADR;AAEtB,UAAA,QAAQ,EAAE,gBAAgB,CAAC;AAFL,SADd;AAKV,UAAA,QAAQ,EAAE,eAAe,CAAC,KALhB;AAMV,UAAA,IAAI,EAAE;AANI,UAAZ;;AASA,QAAA,MAAM,CAAC,IAAP,CAAY,gBAAZ,EAA8B,MAA9B,EAAsC;AAAA,iBAAM,MAAK,iBAAL,EAAN;AAAA,SAAtC;AACD;AACF,KAzCD;;AA2CA,UAAA,OAAA,GAAU,YAAK;AACb,MAAA,aAAa,CAAC,MAAK,KAAN,CAAb;;AACA,YAAK,QAAL,CAAc;AAAE,QAAA,WAAW,EAAE,UAAf;AAA2B,QAAA,iBAAiB,EAAE;AAA9C,OAAd;AACD,KAHD;;AAKA,UAAA,eAAA,GAAkB,YAAK;AACrB,YAAK,QAAL,CAAc,UAAA,KAAK;AAAA,eAAK;AACtB,UAAA,iBAAiB,EAAE,MAAM,GAAG,OAAT,KAAqB,KAAK,CAAC;AADxB,SAAL;AAAA,OAAnB;AAGD,KAJD;;AAtME,UAAK,KAAL,GAAa;AACX,MAAA,OAAO,EAAE;AACP,QAAA,OAAO,EAAE,KADF;AAEP,kBAAQ,KAFD;AAGP,QAAA,KAAK,EAAE,KAHA;AAIP,QAAA,KAAK,EAAE;AAJA,OADE;AAOX,MAAA,gBAAgB,EAAE;AAChB,QAAA,QAAQ,EAAE,EADM;AAEhB,QAAA,KAAK,EAAE,EAFS;AAGhB,QAAA,QAAQ,EAAE,EAHM;AAIhB,QAAA,QAAQ,EAAE,EAJM;AAKhB,QAAA,OAAO,EAAE,EALO;AAMhB,QAAA,IAAI,EAAE;AANU,OAPP;AAeX,MAAA,kBAAkB,EAAE,CAfT;AAgBX,MAAA,eAAe,EAAE,MAAK,KAAL,CAAW,UAAX,CAAsB,CAAtB,CAhBN;AAiBX,MAAA,iBAAiB,EAAE,KAjBR;AAkBX,MAAA,cAAc,EAAE,IAlBL;AAmBX,MAAA,iBAAiB,EAAE,CAnBR;AAoBX,MAAA,eAAe,EAAE,CApBN;AAqBX,MAAA,WAAW,EAAE;AArBF,KAAb;AAHe;AA0BhB;;;;SAED,iB;AAAA,iCAAiB;AACf,WAAK,iBAAL;AAEA,MAAA,QAAQ,CAAC,IAAT,CAAc,gBAAd,CAA+B,SAA/B,EAA0C,KAAK,SAA/C;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,gBAAd,CAA+B,UAA/B,EAA2C,KAAK,UAAhD;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,gBAAd,CAA+B,OAA/B,EAAwC,KAAK,OAA7C;AACD;;;;;SAED,oB;AAAA,oCAAoB;AAClB,MAAA,QAAQ,CAAC,IAAT,CAAc,mBAAd,CAAkC,SAAlC,EAA6C,KAAK,SAAlD;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,mBAAd,CAAkC,UAAlC,EAA8C,KAAK,UAAnD;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,mBAAd,CAAkC,OAAlC,EAA2C,KAAK,OAAhD;AACD;;;;;SAuKD,M;AAAA,sBAAM;AAAA,yBAcA,IAdA,CAEF,KAFE;AAAA,UAGA,gBAHA,gBAGA,gBAHA;AAAA,UAIA,eAJA,gBAIA,eAJA;AAAA,UAKA,iBALA,gBAKA,iBALA;AAAA,UAMA,iBANA,gBAMA,iBANA;AAAA,wBAcA,IAdA,CAQF,KARE;AAAA,UAQO,UARP,eAQO,UARP;AAAA,UAQmB,UARnB,eAQmB,UARnB;AAAA,UASF,aATE,GAcA,IAdA,CASF,aATE;AAAA,UAUF,cAVE,GAcA,IAdA,CAUF,cAVE;AAAA,UAWF,iBAXE,GAcA,IAdA,CAWF,iBAXE;AAAA,UAYF,gBAZE,GAcA,IAdA,CAYF,gBAZE;AAAA,UAaF,eAbE,GAcA,IAdA,CAaF,eAbE;AAgBJ,UAAM,iBAAiB,GAAG,UAAU,CAAC,MAAX,CACxB,UAAA,SAAS;AAAA,eAAI,SAAS,CAAC,QAAV,KAAuB,eAAe,CAAC,KAA3C;AAAA,OADe,CAA1B;AAIA,aACE,0CACE,oBAAC,sBAAD,OADF,EAEE,oBAAC,IAAD,QACE,oBAAC,IAAD,CAAM,MAAN;AAAa,QAAA,KAAK,EAAE;AAApB,SACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,WAAhB;AAA4B,QAAA,QAAQ,MAApC;AAAqC,QAAA,OAAO,MAA5C;AAA6C,QAAA,QAAQ;AAArD,SACG,UAAU,CAAC,GAAX,CAAe,UAAA,QAAQ;AAAA,eACtB,oBAAC,IAAD,CAAM,IAAN;AACE,UAAA,GAAG,EAAE,QAAQ,CAAC,KADhB;AAEE,UAAA,IAAI,EAAE,QAAQ,CAAC,KAFjB;AAGE,UAAA,MAAM,EAAE,eAAe,CAAC,KAAhB,KAA0B,QAAQ,CAAC,KAH7C;AAIE,UAAA,OAAO,EAAE;AAAA,mBAAM,gBAAgB,CAAC,QAAD,CAAtB;AAAA;AAJX,UADsB;AAAA,OAAvB,CADH,CADF,CADF,EAaE,oBAAC,IAAD,CAAM,MAAN;AAAa,QAAA,KAAK,EAAE,CAApB;AAAuB,QAAA,SAAS,EAAC;AAAjC,SACE,oBAAC,YAAD;AACE,QAAA,gBAAgB,EAAE,gBADpB;AAEE,QAAA,iBAAiB,EAAE,iBAFrB;AAGE,QAAA,iBAAiB,EAAE,iBAHrB;AAIE,QAAA,iBAAiB,EAAE;AAJrB,QADF,CAbF,EAqBE,oBAAC,IAAD,CAAM,MAAN;AAAa,QAAA,KAAK,EAAE;AAApB,SACE,oBAAC,QAAD;AACE,QAAA,gBAAgB,EAAE,gBADpB;AAEE,QAAA,eAAe,EAAE;AAFnB,QADF,EAKE,oBAAC,aAAD,OALF,CArBF,CAFF,EA+BG,KAAK,KAAL,CAAW,cAAX,IACC,oBAAC,WAAD;AACE,QAAA,UAAU,EAAE,iBADd;AAEE,QAAA,eAAe,EAAE,eAFnB;AAGE,QAAA,aAAa,EAAE,aAHjB;AAIE,QAAA,cAAc,EAAE,cAJlB;AAKE,QAAA,eAAe,EAAE;AALnB,QAhCJ,CADF;AA2CD;;;;;;EA/QoB,S;;AAlCvB,MAAA,CAAO,aAAP,CAoTe,QApTf","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport { Grid, Menu } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\n\nimport AlgSettings from '../algSettings';\nimport Averages from '../averages';\nimport TipsAndTricks from '../tipsAndTricks';\nimport TrainingMain from '../trainingMain';\n\nimport { getRandomScramble } from '/lib/global-helpers';\n\n// TODO to be moved\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n};\n\n// TODO to be moved\nconst toastNoActiveAlgorithms = () =>\n  toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description:\n      'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  onChangeAlgorithm = () => {\n    const { algorithms } = this.props;\n    const { currentAlgorithmId, currentCategory } = this.state;\n\n    this.onReset();\n\n    let newAlgorithm;\n    if (currentCategory.randomizableAlgorithm) {\n      const activeAlgorithms = algorithms.filter(\n        algorithm =>\n          !!algorithm.active && algorithm.category === currentCategory.value\n      );\n\n      if (!activeAlgorithms.length) {\n        toastNoActiveAlgorithms();\n      }\n\n      newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n    } else if (currentCategory.randomizableScramble) {\n      const scramble = getRandomScramble(25);\n      newAlgorithm = { category: currentCategory.value, scramble };\n    }\n\n    this.setState({\n      currentAlgorithm: newAlgorithm,\n      currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n    });\n  };\n\n  onChangeCategory = category => {\n    this.setState({ currentCategory: category }, () => {\n      this.onChangeAlgorithm();\n    });\n  };\n\n  onToggleActive = algorithm => {\n    Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n  };\n\n  onActivateAll = () => {\n    const { currentCategory } = this.state;\n    Meteor.call('algorithms.activateAll', currentCategory.value);\n  };\n\n  onDeactivateAll = () => {\n    Meteor.call('algorithms.deactivateAll');\n    toastNoActiveAlgorithms();\n  };\n\n  onKeyDown = event => {\n    const blocked = this.state.blocked;\n\n    if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n      event.preventDefault();\n      this.onGoToNextStatus('down');\n      this.setState({ blocked: { ...blocked, space: true } });\n    } else if (event.key === 'r') {\n      event.preventDefault();\n      this.onChangeAlgorithm();\n    } else if (event.key === 'Shift' && !blocked.shift) {\n      event.preventDefault();\n      this.setState({\n        blocked: { ...blocked, shift: true },\n        isVisibleSolution: true\n      });\n    } else if (event.key === 'Control' && !blocked.control) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, control: true } });\n    } else if (\n      (event.key === 'Backspace' ||\n        event.key === 'Delete' ||\n        event.key === 'Escape') &&\n      !blocked.delete\n    ) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, delete: true } });\n    }\n  };\n\n  onKeyPress = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n    }\n  };\n\n  onKeyUp = event => {\n    const { blocked, isVisibleSolution } = this.state;\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.onGoToNextStatus('up');\n      this.setState({ blocked: { ...blocked, space: false } });\n    } else if (event.key === 'Shift') {\n      this.setState({\n        blocked: { ...blocked, shift: false },\n        isVisibleSolution: false\n      });\n    } else if (event.key === 'Control') {\n      this.setState({\n        blocked: { ...blocked, control: false },\n        isVisibleSolution: !isVisibleSolution\n      });\n    } else if (\n      event.key === 'Backspace' ||\n      event.key === 'Delete' ||\n      event.key === 'Escape'\n    ) {\n      this.onChangeAlgorithm();\n      this.setState({ blocked: { ...blocked, delete: false } });\n    }\n  };\n\n  onGoToNextStatus = upOrDown => {\n    const {\n      blocked,\n      currentAlgorithm,\n      currentCategory,\n      timerCurrentValue,\n      timerStatus\n    } = this.state;\n\n    if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n      this.setState({ timerStatus: 'pre-inspection' });\n    } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n      this.setState({\n        timerStatus: 'timer-on',\n        timerStartValue: moment().valueOf()\n      });\n      this.timer = setInterval(this.updateTimerTime, 1);\n    } else if (\n      timerStatus === 'timer-on' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      clearInterval(this.timer);\n      this.setState({ timerStatus: 'timer-off' });\n    } else if (\n      timerStatus === 'timer-off' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      /* Save the time */\n      const result = {\n        ...(currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }),\n        category: currentCategory.value,\n        time: timerCurrentValue\n      };\n\n      Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n    }\n  };\n\n  onReset = () => {\n    clearInterval(this.timer);\n    this.setState({ timerStatus: 'resetted', timerCurrentValue: 0 });\n  };\n\n  updateTimerTime = () => {\n    this.setState(state => ({\n      timerCurrentValue: moment().valueOf() - state.timerStartValue\n    }));\n  };\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: { algorithms, categories },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n\n    const currentAlgorithms = algorithms.filter(\n      algorithm => algorithm.category === currentCategory.value\n    );\n\n    return (\n      <>\n        <SemanticToastContainer />\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu className=\"left-menu\" inverted tabular vertical>\n              {categories.map(category => (\n                <Menu.Item\n                  key={category.value}\n                  name={category.label}\n                  active={currentCategory.value === category.value}\n                  onClick={() => onChangeCategory(category)}\n                />\n              ))}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8} textAlign=\"center\">\n            <TrainingMain\n              currentAlgorithm={currentAlgorithm}\n              isVisibleSolution={isVisibleSolution}\n              onChangeAlgorithm={onChangeAlgorithm}\n              timerCurrentValue={timerCurrentValue}\n            />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <Averages\n              currentAlgorithm={currentAlgorithm}\n              currentCategory={currentCategory}\n            />\n            <TipsAndTricks />\n          </Grid.Column>\n        </Grid>\n        {this.state.settingsOpened && (\n          <AlgSettings\n            algorithms={currentAlgorithms}\n            currentCategory={currentCategory}\n            onActivateAll={onActivateAll}\n            onToggleActive={onToggleActive}\n            onDeactivateAll={onDeactivateAll}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default Training;\n"],"sourceRoot":""},"sourceType":"module","hash":"5f7264f2bbc256464e2af8fa4bb971255d74e874"}

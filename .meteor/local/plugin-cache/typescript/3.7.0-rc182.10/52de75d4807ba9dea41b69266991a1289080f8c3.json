{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/home/michal-pc/Dokumenty/CubeMaster/client/imports/components/training/training.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx",["flow",{}],"nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}]],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/imports/components/training/training.tsx","filename":"/home/michal-pc/Dokumenty/CubeMaster/client/imports/components/training/training.tsx","inputSourceMap":{"version":3,"file":"client/imports/components/training/training.tsx","sourceRoot":"","sources":["client/imports/components/training/training.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AACzC,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAC/C,OAAO,EAAE,sBAAsB,EAAE,KAAK,EAAE,MAAM,uBAAuB,CAAC;AAEtE,OAAO,WAAW,MAAM,gBAAgB,CAAC;AACzC,OAAO,QAAQ,MAAM,aAAa,CAAC;AACnC,OAAO,aAAa,MAAM,kBAAkB,CAAC;AAC7C,OAAO,YAAY,MAAM,iBAAiB,CAAC;AAE3C,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AAExD,mBAAmB;AACnB,MAAM,cAAc,GAAG,CAAC,KAAK,EAAE,SAAS,EAAE,EAAE;IAC1C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;IACvD,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;IAE3B,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,EAAE;QAC5D,OAAO,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;KACzC;IAED,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF,mBAAmB;AACnB,MAAM,uBAAuB,GAAG,GAAG,EAAE,CACnC,KAAK,CAAC;IACJ,KAAK,EAAE,sBAAsB;IAC7B,IAAI,EAAE,SAAS;IACf,WAAW,EACT,uEAAuE;IACzE,IAAI,EAAE,IAAI;CACX,CAAC,CAAC;AAEL,MAAM,QAAS,SAAQ,SAAS;IAC9B,YAAY,KAAK;QACf,KAAK,CAAC,KAAK,CAAC,CAAC;QAyCf,sBAAiB,GAAG,GAAG,EAAE;YACvB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YAClC,MAAM,EAAE,kBAAkB,EAAE,eAAe,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YAE3D,IAAI,CAAC,OAAO,EAAE,CAAC;YAEf,IAAI,YAAY,CAAC;YACjB,IAAI,eAAe,CAAC,qBAAqB,EAAE;gBACzC,MAAM,gBAAgB,GAAG,UAAU,CAAC,MAAM,CACxC,SAAS,CAAC,EAAE,CACV,CAAC,CAAC,SAAS,CAAC,MAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,eAAe,CAAC,KAAK,CACrE,CAAC;gBAEF,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE;oBAC5B,uBAAuB,EAAE,CAAC;iBAC3B;gBAED,YAAY,GAAG,cAAc,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,CAAC;aACrE;iBAAM,IAAI,eAAe,CAAC,oBAAoB,EAAE;gBAC/C,MAAM,QAAQ,GAAG,iBAAiB,CAAC,EAAE,CAAC,CAAC;gBACvC,YAAY,GAAG,EAAE,QAAQ,EAAE,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC;aAC9D;YAED,IAAI,CAAC,QAAQ,CAAC;gBACZ,gBAAgB,EAAE,YAAY;gBAC9B,kBAAkB,EAAE,YAAY,IAAI,YAAY,CAAC,GAAG,CAAC,kDAAkD;aACxG,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,qBAAgB,GAAG,QAAQ,CAAC,EAAE;YAC5B,IAAI,CAAC,QAAQ,CAAC,EAAE,eAAe,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE;gBAChD,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,mBAAc,GAAG,SAAS,CAAC,EAAE;YAC3B,MAAM,CAAC,IAAI,CAAC,yBAAyB,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC3E,CAAC,CAAC;QAEF,kBAAa,GAAG,GAAG,EAAE;YACnB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YACvC,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE,eAAe,CAAC,KAAK,CAAC,CAAC;QAC/D,CAAC,CAAC;QAEF,oBAAe,GAAG,GAAG,EAAE;YACrB,MAAM,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;YACxC,uBAAuB,EAAE,CAAC;QAC5B,CAAC,CAAC;QAEF,cAAS,GAAG,KAAK,CAAC,EAAE;YAClB,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAEnC,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;gBAClE,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;gBAC9B,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;aACzD;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;gBAC5B,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC1B;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;gBAClD,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE;oBACpC,iBAAiB,EAAE,IAAI;iBACxB,CAAC,CAAC;aACJ;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;gBACtD,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;aAC3D;iBAAM,IACL,CAAC,KAAK,CAAC,GAAG,KAAK,WAAW;gBACxB,KAAK,CAAC,GAAG,KAAK,QAAQ;gBACtB,KAAK,CAAC,GAAG,KAAK,QAAQ,CAAC;gBACzB,CAAC,OAAO,CAAC,MAAM,EACf;gBACA,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;aAC1D;QACH,CAAC,CAAC;QAEF,eAAU,GAAG,KAAK,CAAC,EAAE;YACnB,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;gBACrB,KAAK,CAAC,cAAc,EAAE,CAAC;aACxB;QACH,CAAC,CAAC;QAEF,YAAO,GAAG,KAAK,CAAC,EAAE;YAChB,MAAM,EAAE,OAAO,EAAE,iBAAiB,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YAElD,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;gBAC9C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC5B,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;aAC1D;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;gBAChC,IAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE;oBACrC,iBAAiB,EAAE,KAAK;iBACzB,CAAC,CAAC;aACJ;iBAAM,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,EAAE;gBAClC,IAAI,CAAC,QAAQ,CAAC;oBACZ,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE;oBACvC,iBAAiB,EAAE,CAAC,iBAAiB;iBACtC,CAAC,CAAC;aACJ;iBAAM,IACL,KAAK,CAAC,GAAG,KAAK,WAAW;gBACzB,KAAK,CAAC,GAAG,KAAK,QAAQ;gBACtB,KAAK,CAAC,GAAG,KAAK,QAAQ,EACtB;gBACA,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;aAC3D;QACH,CAAC,CAAC;QAEF,qBAAgB,GAAG,QAAQ,CAAC,EAAE;YAC5B,MAAM,EACJ,OAAO,EACP,gBAAgB,EAChB,eAAe,EACf,iBAAiB,EACjB,WAAW,EACZ,GAAG,IAAI,CAAC,KAAK,CAAC;YAEf,IAAI,WAAW,KAAK,UAAU,IAAI,QAAQ,KAAK,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;gBACvE,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,gBAAgB,EAAE,CAAC,CAAC;aAClD;iBAAM,IAAI,WAAW,KAAK,gBAAgB,IAAI,QAAQ,KAAK,IAAI,EAAE;gBAChE,IAAI,CAAC,QAAQ,CAAC;oBACZ,WAAW,EAAE,UAAU;oBACvB,eAAe,EAAE,MAAM,EAAE,CAAC,OAAO,EAAE;iBACpC,CAAC,CAAC;gBACH,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;aACnD;iBAAM,IACL,WAAW,KAAK,UAAU;gBAC1B,QAAQ,KAAK,MAAM;gBACnB,CAAC,OAAO,CAAC,KAAK,EACd;gBACA,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1B,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,CAAC;aAC7C;iBAAM,IACL,WAAW,KAAK,WAAW;gBAC3B,QAAQ,KAAK,MAAM;gBACnB,CAAC,OAAO,CAAC,KAAK,EACd;gBACA,mBAAmB;gBACnB,MAAM,MAAM,GAAG;oBACb,GAAG,CAAC,gBAAgB,IAAI;wBACtB,WAAW,EAAE,gBAAgB,CAAC,GAAG;wBACjC,QAAQ,EAAE,gBAAgB,CAAC,QAAQ;qBACpC,CAAC;oBACF,QAAQ,EAAE,eAAe,CAAC,KAAK;oBAC/B,IAAI,EAAE,iBAAiB;iBACxB,CAAC;gBAEF,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;aACvE;QACH,CAAC,CAAC;QAEF,YAAO,GAAG,GAAG,EAAE;YACb,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAAC,CAAC;QACnE,CAAC,CAAC;QAEF,oBAAe,GAAG,GAAG,EAAE;YACrB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBACtB,iBAAiB,EAAE,MAAM,EAAE,CAAC,OAAO,EAAE,GAAG,KAAK,CAAC,eAAe;aAC9D,CAAC,CAAC,CAAC;QACN,CAAC,CAAC;QA1MA,IAAI,CAAC,KAAK,GAAG;YACX,OAAO,EAAE;gBACP,OAAO,EAAE,KAAK;gBACd,MAAM,EAAE,KAAK;gBACb,KAAK,EAAE,KAAK;gBACZ,KAAK,EAAE,KAAK;aACb;YACD,gBAAgB,EAAE;gBAChB,QAAQ,EAAE,EAAE;gBACZ,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,EAAE;gBACZ,QAAQ,EAAE,EAAE;gBACZ,OAAO,EAAE,EAAE;gBACX,IAAI,EAAE,EAAE;aACT;YACD,kBAAkB,EAAE,CAAC;YACrB,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;YACzC,iBAAiB,EAAE,KAAK;YACxB,cAAc,EAAE,IAAI;YACpB,iBAAiB,EAAE,CAAC;YACpB,eAAe,EAAE,CAAC;YAClB,WAAW,EAAE,UAAU;SACxB,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAEzB,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1D,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5D,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,oBAAoB;QAClB,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7D,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/D,QAAQ,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;IAC3D,CAAC;IAuKD,MAAM;QACJ,MAAM,EACJ,KAAK,EAAE,EACL,gBAAgB,EAChB,eAAe,EACf,iBAAiB,EACjB,iBAAiB,EAClB,EACD,KAAK,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EACjC,aAAa,EACb,cAAc,EACd,iBAAiB,EACjB,gBAAgB,EAChB,eAAe,EAChB,GAAG,IAAI,CAAC;QAET,MAAM,iBAAiB,GAAG,UAAU,CAAC,MAAM,CACzC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,KAAK,eAAe,CAAC,KAAK,CAC1D,CAAC;QAEF,OAAO,CACL,EACE;QAAA,CAAC,sBAAsB,CAAC,AAAD,EACvB;QAAA,CAAC,IAAI,CACH;UAAA,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpB;YAAA,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CACnD;cAAA,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,CAC1B,CAAC,IAAI,CAAC,IAAI,CACR,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CACpB,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CACrB,MAAM,CAAC,CAAC,eAAe,CAAC,KAAK,KAAK,QAAQ,CAAC,KAAK,CAAC,CACjD,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,EAC1C,CACH,CAAC,CACJ;YAAA,EAAE,IAAI,CACR;UAAA,EAAE,IAAI,CAAC,MAAM,CACb;UAAA,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CACvC;YAAA,CAAC,YAAY,CACX,gBAAgB,CAAC,CAAC,gBAAgB,CAAC,CACnC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CACrC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,CACrC,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,EAEzC;UAAA,EAAE,IAAI,CAAC,MAAM,CACb;UAAA,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CACpB;YAAA,CAAC,QAAQ,CACP,gBAAgB,CAAC,CAAC,gBAAgB,CAAC,CACnC,eAAe,CAAC,CAAC,eAAe,CAAC,EAEnC;YAAA,CAAC,aAAa,CAAC,AAAD,EAChB;UAAA,EAAE,IAAI,CAAC,MAAM,CACf;QAAA,EAAE,IAAI,CACN;QAAA,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,CAC5B,CAAC,WAAW,CACV,UAAU,CAAC,CAAC,iBAAiB,CAAC,CAC9B,eAAe,CAAC,CAAC,eAAe,CAAC,CACjC,aAAa,CAAC,CAAC,aAAa,CAAC,CAC7B,cAAc,CAAC,CAAC,cAAc,CAAC,CAC/B,eAAe,CAAC,CAAC,eAAe,CAAC,EACjC,CACH,CACH;MAAA,GAAG,CACJ,CAAC;IACJ,CAAC;CACF;AAED,eAAe,QAAQ,CAAC","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport { Grid, Menu } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\n\nimport AlgSettings from '../algSettings';\nimport Averages from '../averages';\nimport TipsAndTricks from '../tipsAndTricks';\nimport TrainingMain from '../trainingMain';\n\nimport { getRandomScramble } from '/lib/global-helpers';\n\n// TODO to be moved\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n};\n\n// TODO to be moved\nconst toastNoActiveAlgorithms = () =>\n  toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description:\n      'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  onChangeAlgorithm = () => {\n    const { algorithms } = this.props;\n    const { currentAlgorithmId, currentCategory } = this.state;\n\n    this.onReset();\n\n    let newAlgorithm;\n    if (currentCategory.randomizableAlgorithm) {\n      const activeAlgorithms = algorithms.filter(\n        algorithm =>\n          !!algorithm.active && algorithm.category === currentCategory.value\n      );\n\n      if (!activeAlgorithms.length) {\n        toastNoActiveAlgorithms();\n      }\n\n      newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n    } else if (currentCategory.randomizableScramble) {\n      const scramble = getRandomScramble(25);\n      newAlgorithm = { category: currentCategory.value, scramble };\n    }\n\n    this.setState({\n      currentAlgorithm: newAlgorithm,\n      currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n    });\n  };\n\n  onChangeCategory = category => {\n    this.setState({ currentCategory: category }, () => {\n      this.onChangeAlgorithm();\n    });\n  };\n\n  onToggleActive = algorithm => {\n    Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n  };\n\n  onActivateAll = () => {\n    const { currentCategory } = this.state;\n    Meteor.call('algorithms.activateAll', currentCategory.value);\n  };\n\n  onDeactivateAll = () => {\n    Meteor.call('algorithms.deactivateAll');\n    toastNoActiveAlgorithms();\n  };\n\n  onKeyDown = event => {\n    const blocked = this.state.blocked;\n\n    if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n      event.preventDefault();\n      this.onGoToNextStatus('down');\n      this.setState({ blocked: { ...blocked, space: true } });\n    } else if (event.key === 'r') {\n      event.preventDefault();\n      this.onChangeAlgorithm();\n    } else if (event.key === 'Shift' && !blocked.shift) {\n      event.preventDefault();\n      this.setState({\n        blocked: { ...blocked, shift: true },\n        isVisibleSolution: true\n      });\n    } else if (event.key === 'Control' && !blocked.control) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, control: true } });\n    } else if (\n      (event.key === 'Backspace' ||\n        event.key === 'Delete' ||\n        event.key === 'Escape') &&\n      !blocked.delete\n    ) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, delete: true } });\n    }\n  };\n\n  onKeyPress = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n    }\n  };\n\n  onKeyUp = event => {\n    const { blocked, isVisibleSolution } = this.state;\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.onGoToNextStatus('up');\n      this.setState({ blocked: { ...blocked, space: false } });\n    } else if (event.key === 'Shift') {\n      this.setState({\n        blocked: { ...blocked, shift: false },\n        isVisibleSolution: false\n      });\n    } else if (event.key === 'Control') {\n      this.setState({\n        blocked: { ...blocked, control: false },\n        isVisibleSolution: !isVisibleSolution\n      });\n    } else if (\n      event.key === 'Backspace' ||\n      event.key === 'Delete' ||\n      event.key === 'Escape'\n    ) {\n      this.onChangeAlgorithm();\n      this.setState({ blocked: { ...blocked, delete: false } });\n    }\n  };\n\n  onGoToNextStatus = upOrDown => {\n    const {\n      blocked,\n      currentAlgorithm,\n      currentCategory,\n      timerCurrentValue,\n      timerStatus\n    } = this.state;\n\n    if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n      this.setState({ timerStatus: 'pre-inspection' });\n    } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n      this.setState({\n        timerStatus: 'timer-on',\n        timerStartValue: moment().valueOf()\n      });\n      this.timer = setInterval(this.updateTimerTime, 1);\n    } else if (\n      timerStatus === 'timer-on' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      clearInterval(this.timer);\n      this.setState({ timerStatus: 'timer-off' });\n    } else if (\n      timerStatus === 'timer-off' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      /* Save the time */\n      const result = {\n        ...(currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }),\n        category: currentCategory.value,\n        time: timerCurrentValue\n      };\n\n      Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n    }\n  };\n\n  onReset = () => {\n    clearInterval(this.timer);\n    this.setState({ timerStatus: 'resetted', timerCurrentValue: 0 });\n  };\n\n  updateTimerTime = () => {\n    this.setState(state => ({\n      timerCurrentValue: moment().valueOf() - state.timerStartValue\n    }));\n  };\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: { algorithms, categories },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n\n    const currentAlgorithms = algorithms.filter(\n      algorithm => algorithm.category === currentCategory.value\n    );\n\n    return (\n      <>\n        <SemanticToastContainer />\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu className=\"left-menu\" inverted tabular vertical>\n              {categories.map(category => (\n                <Menu.Item\n                  key={category.value}\n                  name={category.label}\n                  active={currentCategory.value === category.value}\n                  onClick={() => onChangeCategory(category)}\n                />\n              ))}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8} textAlign=\"center\">\n            <TrainingMain\n              currentAlgorithm={currentAlgorithm}\n              isVisibleSolution={isVisibleSolution}\n              onChangeAlgorithm={onChangeAlgorithm}\n              timerCurrentValue={timerCurrentValue}\n            />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <Averages\n              currentAlgorithm={currentAlgorithm}\n              currentCategory={currentCategory}\n            />\n            <TipsAndTricks />\n          </Grid.Column>\n        </Grid>\n        {this.state.settingsOpened && (\n          <AlgSettings\n            algorithms={currentAlgorithms}\n            currentCategory={currentCategory}\n            onActivateAll={onActivateAll}\n            onToggleActive={onToggleActive}\n            onDeactivateAll={onDeactivateAll}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default Training;\n"]},"passPerPreset":false,"envName":"development","cwd":"/home/michal-pc/Dokumenty/CubeMaster","root":"/home/michal-pc/Dokumenty/CubeMaster","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.7.1","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/home/michal-pc/Dokumenty/CubeMaster/client/imports/components/training/training.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/imports/components/training/training.tsx"}},"code":"let _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 1);\nlet Grid, Menu;\nmodule.link(\"semantic-ui-react\", {\n  Grid(v) {\n    Grid = v;\n  },\n\n  Menu(v) {\n    Menu = v;\n  }\n\n}, 2);\nlet SemanticToastContainer, toast;\nmodule.link(\"react-semantic-toasts\", {\n  SemanticToastContainer(v) {\n    SemanticToastContainer = v;\n  },\n\n  toast(v) {\n    toast = v;\n  }\n\n}, 3);\nlet AlgSettings;\nmodule.link(\"../algSettings\", {\n  default(v) {\n    AlgSettings = v;\n  }\n\n}, 4);\nlet Averages;\nmodule.link(\"../averages\", {\n  default(v) {\n    Averages = v;\n  }\n\n}, 5);\nlet TipsAndTricks;\nmodule.link(\"../tipsAndTricks\", {\n  default(v) {\n    TipsAndTricks = v;\n  }\n\n}, 6);\nlet TrainingMain;\nmodule.link(\"../trainingMain\", {\n  default(v) {\n    TrainingMain = v;\n  }\n\n}, 7);\nlet getRandomScramble;\nmodule.link(\"/lib/global-helpers\", {\n  getRandomScramble(v) {\n    getRandomScramble = v;\n  }\n\n}, 8);\n\n// TODO to be moved\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n}; // TODO to be moved\n\n\nconst toastNoActiveAlgorithms = () => toast({\n  title: 'No active algorithms',\n  type: 'warning',\n  description: 'Randomizing algorithms pauzed until you select at least one algorithm',\n  time: 5000\n});\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeAlgorithm = () => {\n      const {\n        algorithms\n      } = this.props;\n      const {\n        currentAlgorithmId,\n        currentCategory\n      } = this.state;\n      this.onReset();\n      let newAlgorithm;\n\n      if (currentCategory.randomizableAlgorithm) {\n        const activeAlgorithms = algorithms.filter(algorithm => !!algorithm.active && algorithm.category === currentCategory.value);\n\n        if (!activeAlgorithms.length) {\n          toastNoActiveAlgorithms();\n        }\n\n        newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n      } else if (currentCategory.randomizableScramble) {\n        const scramble = getRandomScramble(25);\n        newAlgorithm = {\n          category: currentCategory.value,\n          scramble\n        };\n      }\n\n      this.setState({\n        currentAlgorithm: newAlgorithm,\n        currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n\n      });\n    };\n\n    this.onChangeCategory = category => {\n      this.setState({\n        currentCategory: category\n      }, () => {\n        this.onChangeAlgorithm();\n      });\n    };\n\n    this.onToggleActive = algorithm => {\n      Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n    };\n\n    this.onActivateAll = () => {\n      const {\n        currentCategory\n      } = this.state;\n      Meteor.call('algorithms.activateAll', currentCategory.value);\n    };\n\n    this.onDeactivateAll = () => {\n      Meteor.call('algorithms.deactivateAll');\n      toastNoActiveAlgorithms();\n    };\n\n    this.onKeyDown = event => {\n      const blocked = this.state.blocked;\n\n      if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n        event.preventDefault();\n        this.onGoToNextStatus('down');\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: true\n          })\n        });\n      } else if (event.key === 'r') {\n        event.preventDefault();\n        this.onChangeAlgorithm();\n      } else if (event.key === 'Shift' && !blocked.shift) {\n        event.preventDefault();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: true\n          }),\n          isVisibleSolution: true\n        });\n      } else if (event.key === 'Control' && !blocked.control) {\n        event.preventDefault();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: true\n          })\n        });\n      } else if ((event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') && !blocked.delete) {\n        event.preventDefault();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            delete: true\n          })\n        });\n      }\n    };\n\n    this.onKeyPress = event => {\n      if (event.key === ' ') {\n        event.preventDefault();\n      }\n    };\n\n    this.onKeyUp = event => {\n      const {\n        blocked,\n        isVisibleSolution\n      } = this.state;\n\n      if (event.key === 'Enter' || event.key === ' ') {\n        this.onGoToNextStatus('up');\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: false\n          })\n        });\n      } else if (event.key === 'Shift') {\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: false\n          }),\n          isVisibleSolution: false\n        });\n      } else if (event.key === 'Control') {\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: false\n          }),\n          isVisibleSolution: !isVisibleSolution\n        });\n      } else if (event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') {\n        this.onChangeAlgorithm();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            delete: false\n          })\n        });\n      }\n    };\n\n    this.onGoToNextStatus = upOrDown => {\n      const {\n        blocked,\n        currentAlgorithm,\n        currentCategory,\n        timerCurrentValue,\n        timerStatus\n      } = this.state;\n\n      if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n        this.setState({\n          timerStatus: 'pre-inspection'\n        });\n      } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n        this.setState({\n          timerStatus: 'timer-on',\n          timerStartValue: moment().valueOf()\n        });\n        this.timer = setInterval(this.updateTimerTime, 1);\n      } else if (timerStatus === 'timer-on' && upOrDown === 'down' && !blocked.space) {\n        clearInterval(this.timer);\n        this.setState({\n          timerStatus: 'timer-off'\n        });\n      } else if (timerStatus === 'timer-off' && upOrDown === 'down' && !blocked.space) {\n        /* Save the time */\n        const result = _objectSpread({}, currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }, {\n          category: currentCategory.value,\n          time: timerCurrentValue\n        });\n\n        Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n      }\n    };\n\n    this.onReset = () => {\n      clearInterval(this.timer);\n      this.setState({\n        timerStatus: 'resetted',\n        timerCurrentValue: 0\n      });\n    };\n\n    this.updateTimerTime = () => {\n      this.setState(state => ({\n        timerCurrentValue: moment().valueOf() - state.timerStartValue\n      }));\n    };\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: {\n        algorithms,\n        categories\n      },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n    const currentAlgorithms = algorithms.filter(algorithm => algorithm.category === currentCategory.value);\n    return React.createElement(React.Fragment, null, React.createElement(SemanticToastContainer, null), React.createElement(Grid, null, React.createElement(Grid.Column, {\n      width: 4\n    }, React.createElement(Menu, {\n      className: \"left-menu\",\n      inverted: true,\n      tabular: true,\n      vertical: true\n    }, categories.map(category => React.createElement(Menu.Item, {\n      key: category.value,\n      name: category.label,\n      active: currentCategory.value === category.value,\n      onClick: () => onChangeCategory(category)\n    })))), React.createElement(Grid.Column, {\n      width: 8,\n      textAlign: \"center\"\n    }, React.createElement(TrainingMain, {\n      currentAlgorithm: currentAlgorithm,\n      isVisibleSolution: isVisibleSolution,\n      onChangeAlgorithm: onChangeAlgorithm,\n      timerCurrentValue: timerCurrentValue\n    })), React.createElement(Grid.Column, {\n      width: 4\n    }, React.createElement(Averages, {\n      currentAlgorithm: currentAlgorithm,\n      currentCategory: currentCategory\n    }), React.createElement(TipsAndTricks, null))), this.state.settingsOpened && React.createElement(AlgSettings, {\n      algorithms: currentAlgorithms,\n      currentCategory: currentCategory,\n      onActivateAll: onActivateAll,\n      onToggleActive: onToggleActive,\n      onDeactivateAll: onDeactivateAll\n    }));\n  }\n\n}\n\nmodule.exportDefault(Training);","map":{"version":3,"sources":["client/imports/components/training/training.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport moment from 'moment';\nimport { Grid, Menu } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\n\nimport AlgSettings from '../algSettings';\nimport Averages from '../averages';\nimport TipsAndTricks from '../tipsAndTricks';\nimport TrainingMain from '../trainingMain';\n\nimport { getRandomScramble } from '/lib/global-helpers';\n\n// TODO to be moved\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n};\n\n// TODO to be moved\nconst toastNoActiveAlgorithms = () =>\n  toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description:\n      'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  onChangeAlgorithm = () => {\n    const { algorithms } = this.props;\n    const { currentAlgorithmId, currentCategory } = this.state;\n\n    this.onReset();\n\n    let newAlgorithm;\n    if (currentCategory.randomizableAlgorithm) {\n      const activeAlgorithms = algorithms.filter(\n        algorithm =>\n          !!algorithm.active && algorithm.category === currentCategory.value\n      );\n\n      if (!activeAlgorithms.length) {\n        toastNoActiveAlgorithms();\n      }\n\n      newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n    } else if (currentCategory.randomizableScramble) {\n      const scramble = getRandomScramble(25);\n      newAlgorithm = { category: currentCategory.value, scramble };\n    }\n\n    this.setState({\n      currentAlgorithm: newAlgorithm,\n      currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n    });\n  };\n\n  onChangeCategory = category => {\n    this.setState({ currentCategory: category }, () => {\n      this.onChangeAlgorithm();\n    });\n  };\n\n  onToggleActive = algorithm => {\n    Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n  };\n\n  onActivateAll = () => {\n    const { currentCategory } = this.state;\n    Meteor.call('algorithms.activateAll', currentCategory.value);\n  };\n\n  onDeactivateAll = () => {\n    Meteor.call('algorithms.deactivateAll');\n    toastNoActiveAlgorithms();\n  };\n\n  onKeyDown = event => {\n    const blocked = this.state.blocked;\n\n    if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n      event.preventDefault();\n      this.onGoToNextStatus('down');\n      this.setState({ blocked: { ...blocked, space: true } });\n    } else if (event.key === 'r') {\n      event.preventDefault();\n      this.onChangeAlgorithm();\n    } else if (event.key === 'Shift' && !blocked.shift) {\n      event.preventDefault();\n      this.setState({\n        blocked: { ...blocked, shift: true },\n        isVisibleSolution: true\n      });\n    } else if (event.key === 'Control' && !blocked.control) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, control: true } });\n    } else if (\n      (event.key === 'Backspace' ||\n        event.key === 'Delete' ||\n        event.key === 'Escape') &&\n      !blocked.delete\n    ) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, delete: true } });\n    }\n  };\n\n  onKeyPress = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n    }\n  };\n\n  onKeyUp = event => {\n    const { blocked, isVisibleSolution } = this.state;\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.onGoToNextStatus('up');\n      this.setState({ blocked: { ...blocked, space: false } });\n    } else if (event.key === 'Shift') {\n      this.setState({\n        blocked: { ...blocked, shift: false },\n        isVisibleSolution: false\n      });\n    } else if (event.key === 'Control') {\n      this.setState({\n        blocked: { ...blocked, control: false },\n        isVisibleSolution: !isVisibleSolution\n      });\n    } else if (\n      event.key === 'Backspace' ||\n      event.key === 'Delete' ||\n      event.key === 'Escape'\n    ) {\n      this.onChangeAlgorithm();\n      this.setState({ blocked: { ...blocked, delete: false } });\n    }\n  };\n\n  onGoToNextStatus = upOrDown => {\n    const {\n      blocked,\n      currentAlgorithm,\n      currentCategory,\n      timerCurrentValue,\n      timerStatus\n    } = this.state;\n\n    if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n      this.setState({ timerStatus: 'pre-inspection' });\n    } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n      this.setState({\n        timerStatus: 'timer-on',\n        timerStartValue: moment().valueOf()\n      });\n      this.timer = setInterval(this.updateTimerTime, 1);\n    } else if (\n      timerStatus === 'timer-on' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      clearInterval(this.timer);\n      this.setState({ timerStatus: 'timer-off' });\n    } else if (\n      timerStatus === 'timer-off' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      /* Save the time */\n      const result = {\n        ...(currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }),\n        category: currentCategory.value,\n        time: timerCurrentValue\n      };\n\n      Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n    }\n  };\n\n  onReset = () => {\n    clearInterval(this.timer);\n    this.setState({ timerStatus: 'resetted', timerCurrentValue: 0 });\n  };\n\n  updateTimerTime = () => {\n    this.setState(state => ({\n      timerCurrentValue: moment().valueOf() - state.timerStartValue\n    }));\n  };\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: { algorithms, categories },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n\n    const currentAlgorithms = algorithms.filter(\n      algorithm => algorithm.category === currentCategory.value\n    );\n\n    return (\n      <>\n        <SemanticToastContainer />\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu className=\"left-menu\" inverted tabular vertical>\n              {categories.map(category => (\n                <Menu.Item\n                  key={category.value}\n                  name={category.label}\n                  active={currentCategory.value === category.value}\n                  onClick={() => onChangeCategory(category)}\n                />\n              ))}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8} textAlign=\"center\">\n            <TrainingMain\n              currentAlgorithm={currentAlgorithm}\n              isVisibleSolution={isVisibleSolution}\n              onChangeAlgorithm={onChangeAlgorithm}\n              timerCurrentValue={timerCurrentValue}\n            />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <Averages\n              currentAlgorithm={currentAlgorithm}\n              currentCategory={currentCategory}\n            />\n            <TipsAndTricks />\n          </Grid.Column>\n        </Grid>\n        {this.state.settingsOpened && (\n          <AlgSettings\n            algorithms={currentAlgorithms}\n            currentCategory={currentCategory}\n            onActivateAll={onActivateAll}\n            onToggleActive={onToggleActive}\n            onDeactivateAll={onDeactivateAll}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default Training;\n"],"sourceRoot":""},"sourceType":"module","hash":"52de75d4807ba9dea41b69266991a1289080f8c3"}

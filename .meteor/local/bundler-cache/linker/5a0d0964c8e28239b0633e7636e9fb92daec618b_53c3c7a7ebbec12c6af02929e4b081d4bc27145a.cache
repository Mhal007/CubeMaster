[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/template.main.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<div id=\"render-target\"></div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"imports\":{\"lib\":{\"composer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/lib/composer.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  composer: () => composer\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet setDefaults;\nmodule.link(\"react-komposer\", {\n  setDefaults(v) {\n    setDefaults = v;\n  }\n\n}, 1);\nlet Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker(v) {\n    Tracker = v;\n  }\n\n}, 2);\nlet Loader;\nmodule.link(\"../components/loader\", {\n  default(v) {\n    Loader = v;\n  }\n\n}, 3);\n\nconst errorHandler = error => Meteor.isProduction ? React.createElement(\"span\", null, \"An error occurred.\") : React.createElement(\"code\", null, JSON.stringify(error, null, 2));\n\nconst compose = setDefaults({\n  errorHandler,\n  loadingHandler: Loader,\n  pure: true\n});\n\nconst getTrackerLoader = reactiveMapper => {\n  return (props, onData, env) => {\n    let trackerCleanup = null;\n    const handler = Tracker.nonreactive(() => {\n      return Tracker.autorun(() => {\n        // assign the custom clean-up function.\n        trackerCleanup = reactiveMapper(props, onData, env);\n      });\n    });\n    return () => {\n      if (typeof trackerCleanup === 'function') trackerCleanup();\n      return handler.stop();\n    };\n  };\n};\n\nconst composer = (reactiveMapper, options) => {\n  return compose(getTrackerLoader(reactiveMapper), options);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"components\":{\"results\":{\"index.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/results/index.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Results;\nmodule.link(\"/collections/results\", {\n  Results(v) {\n    Results = v;\n  }\n\n}, 1);\nlet composer;\nmodule.link(\"../../lib/composer\", {\n  composer(v) {\n    composer = v;\n  }\n\n}, 2);\nlet ResultsComponent;\nmodule.link(\"./results\", {\n  default(v) {\n    ResultsComponent = v;\n  }\n\n}, 3);\n\nconst compose = (props, onData) => {\n  const subscriptions = [Meteor.subscribe('results')];\n\n  if (subscriptions.every(subscription => subscription.ready())) {\n    const results = Results.find({}).fetch();\n    onData(null, {\n      results\n    });\n  }\n};\n\nmodule.exportDefault(composer(compose)(ResultsComponent));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"results.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/results/results.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Table;\nmodule.link(\"semantic-ui-react\", {\n  Table(v) {\n    Table = v;\n  }\n\n}, 1);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 2);\nconst columns = [{\n  label: 'Date',\n  value: 'createdAt',\n  format: value => moment(value).format('DD-MM-YYYY HH:ss')\n}, {\n  label: 'Category',\n  value: 'category'\n}, {\n  label: 'Scramble',\n  value: 'scramble'\n}, {\n  label: 'Time',\n  value: 'time',\n  format: value => (value / 1000).toLocaleString('en-US', {\n    minimumFractionDigits: 3,\n    maximumFractionDigits: 3\n  }) + 's'\n}];\n\nclass ResultsTab extends Component {\n  constructor(args) {\n    super(args);\n\n    this.renderHeader = () => React.createElement(Table.Row, null, columns.map((_ref, index) => {\n      let {\n        label\n      } = _ref;\n      return React.createElement(Table.HeaderCell, {\n        key: index\n      }, label);\n    }));\n\n    this.renderRow = row => React.createElement(Table.Row, null, columns.map((_ref2, index) => {\n      let {\n        value,\n        format = value => value\n      } = _ref2;\n      return React.createElement(Table.Cell, {\n        key: index\n      }, format(row[value]));\n    }));\n  }\n\n  render() {\n    const {\n      results\n    } = this.props;\n    return React.createElement(Table, {\n      inverted: true,\n      headerRow: this.renderHeader,\n      tableData: results,\n      renderBodyRow: this.renderRow\n    });\n  }\n\n}\n\nmodule.exportDefault(ResultsTab);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"training\":{\"index.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/training/index.js                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Algorithms;\nmodule.link(\"../../../../collections/algorithms\", {\n  Algorithms(v) {\n    Algorithms = v;\n  }\n\n}, 1);\nlet Results;\nmodule.link(\"../../../../collections/results\", {\n  Results(v) {\n    Results = v;\n  }\n\n}, 2);\nlet composer;\nmodule.link(\"../../lib/composer\", {\n  composer(v) {\n    composer = v;\n  }\n\n}, 3);\nlet Training;\nmodule.link(\"./training\", {\n  default(v) {\n    Training = v;\n  }\n\n}, 4);\n// TODO move it\nconst categories = [{\n  label: 'OLL',\n  value: 'OLL',\n  randomizableAlgorithm: true\n}, {\n  label: 'PLL',\n  value: 'PLL',\n  randomizableAlgorithm: true\n}, {\n  label: '3x3x3',\n  value: '3x3x3',\n  randomizableScramble: true\n}, {\n  label: 'OLL Attack',\n  value: 'OLL-attack',\n  algorithmsCategory: 'OLL',\n  settingsDisabled: true\n}, {\n  label: 'PLL Attack',\n  value: 'PLL-attack',\n  algorithmsCategory: 'PLL',\n  settingsDisabled: true\n}];\n\nconst compose = (props, onData) => {\n  const subscriptions = [Meteor.subscribe('algorithms'), Meteor.subscribe('results')];\n\n  if (subscriptions.every(subscription => subscription.ready())) {\n    const algorithms = Algorithms.find({}).fetch();\n    const results = Results.find({}).fetch();\n    results.forEach(result => {\n      const algorithm = algorithms.find(alg => alg._id === result.algorithmId);\n      const category = categories.find(cat => cat.value === result.category);\n\n      if (algorithm) {\n        algorithm.results = (algorithm.results || []).concat(result.time);\n      }\n\n      if (category) {\n        category.results = (category.results || []).concat(result.time);\n      }\n    });\n    onData(null, {\n      algorithms,\n      categories\n    });\n  }\n};\n\nmodule.exportDefault(composer(compose)(Training));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"training.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/training/training.js                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n\n}, 0);\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 1);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 2);\nlet Grid, Menu;\nmodule.link(\"semantic-ui-react\", {\n  Grid(v) {\n    Grid = v;\n  },\n\n  Menu(v) {\n    Menu = v;\n  }\n\n}, 3);\nlet SemanticToastContainer, toast;\nmodule.link(\"react-semantic-toasts\", {\n  SemanticToastContainer(v) {\n    SemanticToastContainer = v;\n  },\n\n  toast(v) {\n    toast = v;\n  }\n\n}, 4);\nlet AlgSettings;\nmodule.link(\"../algSettings\", {\n  default(v) {\n    AlgSettings = v;\n  }\n\n}, 5);\nlet Averages;\nmodule.link(\"../averages\", {\n  default(v) {\n    Averages = v;\n  }\n\n}, 6);\nlet TipsAndTricks;\nmodule.link(\"../tipsAndTricks\", {\n  default(v) {\n    TipsAndTricks = v;\n  }\n\n}, 7);\nlet TrainingMain;\nmodule.link(\"../trainingMain\", {\n  default(v) {\n    TrainingMain = v;\n  }\n\n}, 8);\nlet getRandomScramble;\nmodule.link(\"/lib/global-helpers\", {\n  getRandomScramble(v) {\n    getRandomScramble = v;\n  }\n\n}, 9);\n\n// TODO move it\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n}; // TODO move it\n\n\nconst toastNoActiveAlgorithms = () => toast({\n  title: 'No active algorithms',\n  type: 'warning',\n  description: 'Randomizing algorithms pauzed until you select at least one algorithm',\n  time: 5000\n});\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeAlgorithm = () => {\n      const {\n        algorithms\n      } = this.props;\n      const {\n        currentAlgorithmId,\n        currentCategory\n      } = this.state;\n      this.onReset();\n      let newAlgorithm;\n\n      if (currentCategory.randomizableAlgorithm) {\n        const activeAlgorithms = algorithms.filter(algorithm => !!algorithm.active && algorithm.category === currentCategory.value);\n\n        if (!activeAlgorithms.length) {\n          toastNoActiveAlgorithms();\n        }\n\n        newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n      } else if (currentCategory.randomizableScramble) {\n        const scramble = getRandomScramble(25);\n        newAlgorithm = {\n          category: currentCategory.value,\n          scramble\n        };\n      }\n\n      this.setState({\n        currentAlgorithm: newAlgorithm,\n        currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n\n      });\n    };\n\n    this.onChangeCategory = category => {\n      this.props.onToggleLoader(true);\n      this.setState({\n        currentCategory: category\n      }, () => {\n        this.onChangeAlgorithm();\n        this.props.onToggleLoader(false);\n      });\n    };\n\n    this.onToggleActive = algorithm => {\n      Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n    };\n\n    this.onActivateAll = () => {\n      const {\n        currentCategory\n      } = this.state;\n      Meteor.call('algorithms.activateAll', currentCategory.value);\n    };\n\n    this.onDeactivateAll = () => {\n      Meteor.call('algorithms.deactivateAll');\n      toastNoActiveAlgorithms();\n    };\n\n    this.onKeyDown = event => {\n      if (event.target !== document.body) {\n        return;\n      }\n\n      const blocked = this.state.blocked;\n\n      if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n        event.preventDefault();\n        this.onGoToNextStatus('down');\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: true\n          })\n        });\n      } else if (event.key === 'r') {\n        event.preventDefault();\n        this.onChangeAlgorithm();\n      } else if (event.key === 'Shift' && !blocked.shift) {\n        event.preventDefault();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: true\n          }),\n          isVisibleSolution: true\n        });\n      } else if (event.key === 'Control' && !blocked.control) {\n        event.preventDefault();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: true\n          })\n        });\n      } else if ((event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') && !blocked.delete) {\n        event.preventDefault();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            delete: true\n          })\n        });\n      }\n    };\n\n    this.onKeyPress = event => {\n      if (event.key === ' ' && event.target === document.body) {\n        event.preventDefault();\n      }\n    };\n\n    this.onKeyUp = event => {\n      if (event.target !== document.body) {\n        return;\n      }\n\n      const {\n        blocked,\n        isVisibleSolution\n      } = this.state;\n\n      if (event.key === 'Enter' || event.key === ' ') {\n        this.onGoToNextStatus('up');\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: false\n          })\n        });\n      } else if (event.key === 'Shift') {\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: false\n          }),\n          isVisibleSolution: false\n        });\n      } else if (event.key === 'Control') {\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: false\n          }),\n          isVisibleSolution: !isVisibleSolution\n        });\n      } else if (event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') {\n        this.onChangeAlgorithm();\n        this.setState({\n          blocked: _objectSpread({}, blocked, {\n            delete: false\n          })\n        });\n      }\n    };\n\n    this.onGoToNextStatus = upOrDown => {\n      const {\n        blocked,\n        currentAlgorithm,\n        currentCategory,\n        timerCurrentValue,\n        timerStatus\n      } = this.state;\n\n      if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n        this.setState({\n          timerStatus: 'pre-inspection'\n        });\n      } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n        this.setState({\n          timerStatus: 'timer-on',\n          timerStartValue: moment().valueOf()\n        });\n        this.timer = setInterval(this.updateTimerTime, 1);\n      } else if (timerStatus === 'timer-on' && upOrDown === 'down' && !blocked.space) {\n        clearInterval(this.timer);\n        this.setState({\n          timerStatus: 'timer-off'\n        });\n      } else if (timerStatus === 'timer-off' && upOrDown === 'down' && !blocked.space) {\n        /* Save time */\n        const result = _objectSpread({}, currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }, {\n          category: currentCategory.value,\n          time: timerCurrentValue\n        });\n\n        Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n      }\n    };\n\n    this.onReset = () => {\n      clearInterval(this.timer);\n      this.setState({\n        timerStatus: 'resetted',\n        timerCurrentValue: 0\n      });\n    };\n\n    this.updateTimerTime = () => {\n      this.setState(state => ({\n        timerCurrentValue: moment().valueOf() - state.timerStartValue\n      }));\n    };\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n    this.props.onToggleLoader(false);\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: {\n        algorithms,\n        categories\n      },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n    const currentAlgorithms = algorithms.filter(algorithm => algorithm.category === currentCategory.value);\n    return React.createElement(React.Fragment, null, React.createElement(SemanticToastContainer, null), React.createElement(Grid, null, React.createElement(Grid.Column, {\n      width: 4\n    }, React.createElement(Menu, {\n      className: \"left-menu\",\n      inverted: true,\n      tabular: true,\n      vertical: true\n    }, categories.map(category => React.createElement(Menu.Item, {\n      key: category.value,\n      name: category.label,\n      active: currentCategory.value === category.value,\n      onClick: () => onChangeCategory(category)\n    })))), React.createElement(Grid.Column, {\n      width: 8,\n      textAlign: \"center\"\n    }, React.createElement(TrainingMain, {\n      currentAlgorithm: currentAlgorithm,\n      isVisibleSolution: isVisibleSolution,\n      onChangeAlgorithm: onChangeAlgorithm,\n      timerCurrentValue: timerCurrentValue\n    })), React.createElement(Grid.Column, {\n      width: 4\n    }, React.createElement(Averages, {\n      currentAlgorithm: currentAlgorithm,\n      currentCategory: currentCategory\n    }), React.createElement(TipsAndTricks, null))), this.state.settingsOpened && React.createElement(AlgSettings, {\n      algorithms: currentAlgorithms,\n      currentCategory: currentCategory,\n      onActivateAll: onActivateAll,\n      onToggleActive: onToggleActive,\n      onDeactivateAll: onDeactivateAll\n    }));\n  }\n\n}\n\nTraining.propTypes = {\n  onToggleLoader: PropTypes.func.isRequired\n};\nmodule.exportDefault(Training);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"algSettings.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/algSettings.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useState(v) {\n    useState = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet Button, List, Segment;\nmodule.link(\"semantic-ui-react\", {\n  Button(v) {\n    Button = v;\n  },\n\n  List(v) {\n    List = v;\n  },\n\n  Segment(v) {\n    Segment = v;\n  }\n\n}, 2);\nlet groupBy;\nmodule.link(\"lodash/groupBy\", {\n  default(v) {\n    groupBy = v;\n  }\n\n}, 3);\nlet Slider, createSliderWithTooltip;\nmodule.link(\"rc-slider\", {\n  default(v) {\n    Slider = v;\n  },\n\n  createSliderWithTooltip(v) {\n    createSliderWithTooltip = v;\n  }\n\n}, 4);\nlet getAverage;\nmodule.link(\"../../utils\", {\n  getAverage(v) {\n    getAverage = v;\n  }\n\n}, 5);\nconst SliderTooltip = createSliderWithTooltip(Slider);\n\nconst AlgSettings = (_ref) => {\n  let {\n    algorithms,\n    currentCategory: {\n      settingsDisabled\n    },\n    onActivateAll,\n    onToggleActive,\n    onDeactivateAll\n  } = _ref;\n  const [detailsLevel, setDetailsLevel] = useState(1);\n  const algorithmsGrouped = detailsLevel === 0 ? groupBy(algorithms, 'category') : detailsLevel === 1 ? groupBy(algorithms, 'type') : detailsLevel === 2 ? groupBy(algorithms, 'subtype') : [];\n  return React.createElement(\"section\", {\n    className: \"algorithm-settings\".concat(settingsDisabled ? ' disabled' : '')\n  }, React.createElement(List, {\n    divided: true,\n    verticalAlign: \"middle\"\n  }, React.createElement(List.Item, null, React.createElement(List.Content, {\n    floated: \"right\"\n  }, React.createElement(\"div\", {\n    className: \"grouping-level\"\n  }, React.createElement(\"div\", {\n    className: \"title\"\n  }, \"Grouping level\"), React.createElement(SliderTooltip, {\n    min: 0,\n    max: 2,\n    onChange: setDetailsLevel,\n    tipFormatter: value => ['None', 'General', 'Precise'][value],\n    tipProps: {\n      placement: 'bottom',\n      visible: true,\n      borderRadius: '0px'\n    },\n    value: detailsLevel\n  }))), React.createElement(List.Content, null, !settingsDisabled && React.createElement(\"div\", {\n    className: \"controls\"\n  }, React.createElement(Button, {\n    secondary: true,\n    onClick: settingsDisabled ? null : onActivateAll\n  }, \"Select all\"), React.createElement(Button, {\n    secondary: true,\n    onClick: settingsDisabled ? null : onDeactivateAll\n  }, \"Unselect all\"))))), Object.entries(algorithmsGrouped).map((_ref2, index) => {\n    let [name, values] = _ref2;\n    return React.createElement(Segment, {\n      key: index\n    }, React.createElement(\"h5\", null, name), values.map(algorithm => React.createElement(\"div\", {\n      key: algorithm._id,\n      className: \"algorithm\".concat(settingsDisabled || algorithm.active ? ' active' : ''),\n      onClick: () => settingsDisabled ? null : onToggleActive(algorithm)\n    }, React.createElement(\"img\", {\n      src: \"/images/\".concat(algorithm.image)\n    }), React.createElement(\"div\", {\n      className: \"results-average\"\n    }, getAverage(algorithm && algorithm.results)))));\n  }));\n};\n\nAlgSettings.propTypes = {\n  currentCategory: PropTypes.object.isRequired,\n  onActivateAll: PropTypes.func.isRequired,\n  onToggleActive: PropTypes.func.isRequired,\n  onDeactivateAll: PropTypes.func.isRequired\n};\nmodule.exportDefault(AlgSettings);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"averages.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/averages.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet List, Segment;\nmodule.link(\"semantic-ui-react\", {\n  List(v) {\n    List = v;\n  },\n\n  Segment(v) {\n    Segment = v;\n  }\n\n}, 2);\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 3);\nlet getAverage;\nmodule.link(\"../../utils\", {\n  getAverage(v) {\n    getAverage = v;\n  }\n\n}, 4);\n\nconst Averages = (_ref) => {\n  let {\n    currentAlgorithm,\n    currentCategory\n  } = _ref;\n  const currentAlgorithmAvg = getAverage(currentAlgorithm && currentAlgorithm.results);\n  const currentCategoryAvg = getAverage(currentCategory && currentCategory.results);\n  const averages = ['OLL', 'PLL'].includes(currentCategory.value) ? [{\n    header: 'Average for this algorithm',\n    description: currentAlgorithmAvg ? moment(currentAlgorithmAvg).format('ss:SSS') : 'No records'\n  }, {\n    header: \"Average for all \".concat(currentCategory.value, \" algorithms\"),\n    description: currentCategoryAvg ? moment(currentCategoryAvg).format('ss:SSS') : 'No records'\n  }] : [{\n    header: \"Average for all in \".concat(currentCategory.value),\n    description: currentCategoryAvg ? moment(currentCategoryAvg).format('mm:ss:SSS') : 'No records'\n  }];\n  return React.createElement(Segment, {\n    className: \"averages\"\n  }, React.createElement(List, {\n    inverted: true,\n    items: averages\n  }));\n};\n\nAverages.propTypes = {\n  currentAlgorithmAvg: PropTypes.number,\n  currentCategory: PropTypes.object,\n  currentCategoryAvg: PropTypes.number\n};\nmodule.exportDefault(Averages);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"container.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/container.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Container\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Segment;\nmodule.link(\"semantic-ui-react\", {\n  Segment(v) {\n    Segment = v;\n  }\n\n}, 1);\nlet Loader;\nmodule.link(\"./loader\", {\n  default(v) {\n    Loader = v;\n  }\n\n}, 2);\nlet MenuTop;\nmodule.link(\"./menuTop\", {\n  default(v) {\n    MenuTop = v;\n  }\n\n}, 3);\nlet Results;\nmodule.link(\"./results\", {\n  default(v) {\n    Results = v;\n  }\n\n}, 4);\nlet Training;\nmodule.link(\"./training\", {\n  default(v) {\n    Training = v;\n  }\n\n}, 5);\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeTab = (e, _ref) => {\n      let {\n        name\n      } = _ref;\n      return this.setState({\n        currentTab: name\n      });\n    };\n\n    this.onToggleLoader = newValue => this.setState({\n      isVisibleLoader: newValue\n    });\n\n    this.state = {\n      currentTab: 'training',\n      isVisibleLoader: true\n    };\n    this.onChangeTab = this.onChangeTab.bind(this);\n  }\n\n  render() {\n    const {\n      onChangeTab,\n      onToggleLoader,\n      state: {\n        currentTab,\n        isVisibleLoader\n      }\n    } = this;\n    return React.createElement(\"div\", {\n      className: \"segment\"\n    }, React.createElement(\"header\", null, React.createElement(MenuTop, {\n      currentTab: currentTab,\n      onChangeTab: onChangeTab\n    })), React.createElement(Segment, null, isVisibleLoader && React.createElement(Loader, null), React.createElement(\"main\", null, currentTab === 'training' && React.createElement(Training, {\n      onToggleLoader: onToggleLoader\n    }), currentTab === 'results' && React.createElement(Results, null))), React.createElement(\"footer\", null));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"container2.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/container2.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  default: () => Container\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Segment;\nmodule.link(\"semantic-ui-react\", {\n  Segment(v) {\n    Segment = v;\n  }\n\n}, 1);\nlet Router;\nmodule.link(\"@reach/router\", {\n  Router(v) {\n    Router = v;\n  }\n\n}, 2);\nlet Loader;\nmodule.link(\"./loader\", {\n  default(v) {\n    Loader = v;\n  }\n\n}, 3);\nlet MenuTop;\nmodule.link(\"./menuTop\", {\n  default(v) {\n    MenuTop = v;\n  }\n\n}, 4);\nlet Results;\nmodule.link(\"./results\", {\n  default(v) {\n    Results = v;\n  }\n\n}, 5);\nlet Training;\nmodule.link(\"./training\", {\n  default(v) {\n    Training = v;\n  }\n\n}, 6);\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onToggleLoader = newValue => this.setState({\n      isVisibleLoader: newValue\n    });\n\n    this.state = {\n      isVisibleLoader: false\n    };\n  }\n\n  render() {\n    const {\n      onChangeTab,\n      onToggleLoader,\n      state: {\n        isVisibleLoader\n      }\n    } = this;\n    return React.createElement(\"div\", null, React.createElement(\"header\", null, React.createElement(MenuTop, {\n      onChangeTab: onChangeTab\n    })), isVisibleLoader ? React.createElement(Loader, null) : React.createElement(Router, null, React.createElement(Training, {\n      onToggleLoader: onToggleLoader,\n      path: \"/training\",\n      default: true\n    }), React.createElement(Results, {\n      path: \"/results\"\n    })), React.createElement(\"footer\", null));\n  }\n\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"loader.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/loader.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Dimmer, LoaderSemantic;\nmodule.link(\"semantic-ui-react\", {\n  Dimmer(v) {\n    Dimmer = v;\n  },\n\n  Loader(v) {\n    LoaderSemantic = v;\n  }\n\n}, 1);\n\nconst Loader = () => React.createElement(Dimmer, {\n  active: true,\n  page: true,\n  style: {\n    backgroundColor: 'rgba(0, 0, 0, 0.55)'\n  }\n}, React.createElement(LoaderSemantic, {\n  size: \"large\"\n}, \"Loading\"));\n\nmodule.exportDefault(Loader);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"menuTop.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/menuTop.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet Icon, Menu;\nmodule.link(\"semantic-ui-react\", {\n  Icon(v) {\n    Icon = v;\n  },\n\n  Menu(v) {\n    Menu = v;\n  }\n\n}, 2);\nlet Link;\nmodule.link(\"@reach/router\", {\n  Link(v) {\n    Link = v;\n  }\n\n}, 3);\nconst currentTab = null;\n\nconst MenuTop = (_ref) => {\n  let {\n    onChangeTab\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"onChangeTab\"]);\n\n  return console.log('rest', rest) || React.createElement(Menu, {\n    inverted: true,\n    icon: \"labeled\"\n  }, React.createElement(Link, {\n    to: \"/home\"\n  }, React.createElement(Menu.Item, {\n    active: currentTab === 'home',\n    color: \"green\",\n    name: \"home\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"home\"\n  }), \"Home\")), React.createElement(Menu.Item, {\n    active: currentTab === 'training',\n    color: \"blue\",\n    name: \"training\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"book\"\n  }), \"Training\"), React.createElement(Menu.Item, {\n    active: currentTab === 'results',\n    color: \"orange\",\n    name: \"results\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"lightning\"\n  }), \"Results\"), React.createElement(Menu.Item, {\n    active: currentTab === 'about',\n    color: \"teal\",\n    name: \"about\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"idea\"\n  }), \"About\"));\n};\n\nMenuTop.propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  onChangeTab: PropTypes.func.isRequired\n};\nmodule.exportDefault(MenuTop);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"timer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/timer.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet moment;\nmodule.link(\"moment\", {\n  default(v) {\n    moment = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 2);\n\nconst Timer = (_ref) => {\n  let {\n    isVisibleSolution,\n    solution,\n    timerCurrentValue\n  } = _ref;\n  return React.createElement(\"div\", {\n    className: \"timer\"\n  }, React.createElement(\"p\", null, moment(timerCurrentValue).format('mm:ss:SSS')), isVisibleSolution && solution && React.createElement(\"p\", null, solution));\n};\n\nTimer.propTypes = {\n  isVisibleSolution: PropTypes.bool.isRequired,\n  solution: PropTypes.string,\n  timerCurrentValue: PropTypes.number.isRequired\n};\nmodule.exportDefault(Timer);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tipsAndTricks.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/tipsAndTricks.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default(v) {\n    _objectSpread = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet List, Segment;\nmodule.link(\"semantic-ui-react\", {\n  List(v) {\n    List = v;\n  },\n\n  Segment(v) {\n    Segment = v;\n  }\n\n}, 1);\nconst tipsList = [{\n  header: 'Enter / Space',\n  description: '... -> start timer -> stop timer -> save result -> ...'\n}, {\n  header: 'r',\n  description: 'Randomize new algorithm'\n}, {\n  header: 'Shift (hold)',\n  description: 'Take a peek at the solution'\n}, {\n  header: 'Control',\n  description: 'Show / hide the solution'\n}, {\n  header: 'Backspace / Delete / Escape',\n  description: \"Reset timer - don't save the solution\"\n}].map(tip => _objectSpread({}, tip, {\n  icon: 'lightbulb outline'\n}));\n\nconst TipsAndTricks = () => React.createElement(Segment, null, \"Shortcuts list:\", React.createElement(List, {\n  celled: true,\n  inverted: true,\n  items: tipsList\n}));\n\nmodule.exportDefault(TipsAndTricks);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"trainingMain.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/imports/components/trainingMain.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PropTypes;\nmodule.link(\"prop-types\", {\n  default(v) {\n    PropTypes = v;\n  }\n\n}, 1);\nlet Button, Segment;\nmodule.link(\"semantic-ui-react\", {\n  Button(v) {\n    Button = v;\n  },\n\n  Segment(v) {\n    Segment = v;\n  }\n\n}, 2);\nlet Timer;\nmodule.link(\"./timer\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 3);\n\nconst TrainingMain = (_ref) => {\n  let {\n    onChangeAlgorithm,\n    currentAlgorithm: {\n      image,\n      scramble,\n      solution\n    } = {},\n    isVisibleSolution,\n    timerCurrentValue\n  } = _ref;\n  return React.createElement(\"section\", {\n    className: \"training-main\"\n  }, scramble && React.createElement(Segment, {\n    className: \"scramble-segment\"\n  }, scramble), image && React.createElement(Segment, {\n    className: \"image-segment\"\n  }, React.createElement(\"img\", {\n    src: \"/images/\".concat(image)\n  })), React.createElement(Segment, {\n    className: \"timer-segment\"\n  }, React.createElement(Timer, {\n    isVisibleSolution: isVisibleSolution,\n    solution: solution,\n    timerCurrentValue: timerCurrentValue\n  })), (image || solution) && React.createElement(Segment, null, React.createElement(Button, {\n    primary: true,\n    onClick: () => onChangeAlgorithm()\n  }, \"Randomize new\")));\n};\n\nTrainingMain.propTypes = {\n  currentAlgorithm: PropTypes.object,\n  isVisibleSolution: PropTypes.bool.isRequired,\n  onChangeAlgorithm: PropTypes.func.isRequired,\n  timerCurrentValue: PropTypes.number.isRequired\n};\nmodule.exportDefault(TrainingMain);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"utils.ts\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/utils.ts                                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  getAverage: () => getAverage\n});\n\nconst getAverage = results => {\n  if (!results || results.length === 0) {\n    return 0;\n  }\n\n  return Math.round(results.reduce((sum, result) => sum + result, 0) / results.length);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet render;\nmodule.link(\"react-dom\", {\n  render(v) {\n    render = v;\n  }\n\n}, 2);\nlet Container;\nmodule.link(\"./imports/components/container\", {\n  default(v) {\n    Container = v;\n  }\n\n}, 3);\nlet Container2;\nmodule.link(\"./imports/components/container2\", {\n  default(v) {\n    Container2 = v;\n  }\n\n}, 4);\nmodule.link(\"rc-slider/assets/index.css\");\nmodule.link(\"react-semantic-toasts/styles/react-semantic-alert.css\");\nMeteor.startup(() => {\n  render(React.createElement(Container2, null), document.getElementById('render-target'));\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"global-helpers.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/global-helpers.js                                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  getRandomScramble: () => getRandomScramble\n});\nconst allowedMoves = ['F', \"F'\", 'F2', 'B', \"B'\", 'B2', 'R', \"R'\", 'R2', 'L', \"L'\", 'L2', 'U', \"U'\", 'U2', 'D', \"D'\", 'D2'];\n\nconst getRandomMove = () => allowedMoves[Math.floor(Math.random() * allowedMoves.length)];\n\nconst movesConflict = (moveA, moveB) => moveA && moveB && moveA.split('').some(character => moveB.includes(character));\n\nconst getRandomScramble = movesNr => {\n  const moves = [];\n  let move;\n  let previousMove;\n\n  for (let i = 0; i < movesNr; i++) {\n    move = getRandomMove();\n\n    while (movesConflict(move, previousMove)) {\n      move = getRandomMove();\n    }\n\n    previousMove = move;\n    moves.push(move);\n  }\n\n  return moves.join(' ');\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"algorithms.ts\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// collections/algorithms.ts                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Algorithms: () => Algorithms\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 1);\nlet check;\nmodule.link(\"meteor/check\", {\n  check(v) {\n    check = v;\n  }\n\n}, 2);\nlet expect;\nmodule.link(\"chai\", {\n  expect(v) {\n    expect = v;\n  }\n\n}, 3);\nconst Algorithms = new Mongo.Collection('algorithms');\nMeteor.methods({\n  'algorithms.toggleActive': (algId, active) => {\n    check(active, Boolean);\n    check(algId, String);\n    Algorithms.update(algId, {\n      $set: {\n        active\n      }\n    });\n  },\n  'algorithms.activateAll': category => {\n    Algorithms.update({\n      category\n    }, {\n      $set: {\n        active: true\n      }\n    }, {\n      multi: true\n    });\n  },\n  'algorithms.deactivateAll': category => {\n    Algorithms.update({\n      category\n    }, {\n      $set: {\n        active: false\n      }\n    }, {\n      multi: true\n    });\n  },\n  'algorithms.insert': (_ref) => {\n    let {\n      category,\n      image,\n      scramble,\n      solution,\n      subtype,\n      type\n    } = _ref;\n    expect(category).to.be.a('string');\n    expect(image).to.be.a('string');\n    expect(scramble).to.be.a('string');\n    expect(solution).to.be.a('string');\n    expect(subtype).to.be.a('string');\n    expect(type).to.be.a('string'); // Make sure the user is logged in before inserting a algorithm\n\n    /* if (! Meteor.userId()) {\n         throw new Meteor.Error('not-authorized');\n     }*/\n\n    const doc = {\n      createdAt: new Date(),\n      category,\n      image,\n      scramble,\n      solution,\n      subtype,\n      type\n    };\n    Algorithms.insert(doc);\n  },\n\n  'algorithms.search'(text) {\n    check(text, String);\n    return Algorithms.find();\n  },\n\n  'algorithms.remove'(algorithmId) {\n    check(algorithmId, String);\n    /*const algorithm = Algorithms.findOne(algorithmId);\n    if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n      // If the algorithm is private, make sure only the owner can delete it\n          throw new Meteor.Error('not-authorized');\n    }*/\n\n    Algorithms.remove(algorithmId);\n  }\n  /*,\n  'algorithms.setChecked'(algorithmId, setChecked) {\n      check(algorithmId, String);\n      check(setChecked, Boolean);\n         const algorithm = Algorithms.findOne(algorithmId);\n      if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n            // If the algorithm is private, make sure only the owner can check it off\n                throw new Meteor.Error('not-authorized');\n          }\n         Algorithms.update(algorithmId, { $set: { checked: setChecked } });\n  },\n  'algorithms.setPrivate'(algorithmId, setToPrivate) {\n      check(algorithmId, String);\n      check(setToPrivate, Boolean);\n         const algorithm = Algorithms.findOne(algorithmId);\n         // Make sure only the algorithm owner can make a algorithm private\n      if (algorithm.owner !== Meteor.userId()) {\n          throw new Meteor.Error('not-authorized');\n      }\n         Algorithms.update(algorithmId, { $set: { private: setToPrivate } });\n  },*/\n\n\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"results.ts\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// collections/results.ts                                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Results: () => Results\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 1);\nlet check;\nmodule.link(\"meteor/check\", {\n  check(v) {\n    check = v;\n  }\n\n}, 2);\nconst Results = new Mongo.Collection('results');\nMeteor.methods({\n  'results.insert': (_ref) => {\n    let {\n      algorithmId,\n      category,\n      real,\n      scramble,\n      time\n    } = _ref;\n    check(category, String);\n    check(real, Boolean);\n    check(time, Number);\n\n    if (category === 'OLL' || category === 'PLL' || category === '3x3x3') {\n      check(scramble, String);\n    }\n\n    if (category === 'OLL' || category === 'PLL') {\n      check(algorithmId, String);\n    } // Make sure the user is logged in before inserting a result\n\n    /* if (! Meteor.userId()) {\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n\n    const doc = {\n      algorithmId,\n      category,\n      createdAt: new Date(),\n      real,\n      scramble,\n      time\n    };\n    Results.insert(doc);\n  },\n  'results.search': text => {\n    check(text, String);\n    return Results.find();\n  },\n  'results.remove': resultId => {\n    check(resultId, String);\n    /*const result = Results.findOne(resultId);\n     if (result.private && result.owner !== Meteor.userId()) {\n     // If the result is private, make sure only the owner can delete it\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n    Results.remove(resultId);\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".ts\",\n    \".jsx\",\n    \".mjs\",\n    \".tsx\",\n    \".css\",\n    \".less\"\n  ]\n});\n\nrequire(\"/client/template.main.js\");\nrequire(\"/lib/global-helpers.js\");\nrequire(\"/client/utils.ts\");\nrequire(\"/collections/algorithms.ts\");\nrequire(\"/collections/results.ts\");\nrequire(\"/client/main.js\");","hash":"789b6cf8d25d0ecf16ac4da6d276cbcc0eac8140","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/imports/lib/composer.js","client/imports/components/results/index.js","client/imports/components/results/results.js","client/imports/components/training/index.js","client/imports/components/training/training.js","client/imports/components/algSettings.js","client/imports/components/averages.js","client/imports/components/container.js","client/imports/components/container2.js","client/imports/components/loader.js","client/imports/components/menuTop.js","client/imports/components/timer.js","client/imports/components/tipsAndTricks.js","client/imports/components/trainingMain.js","client/utils.ts","client/main.js","lib/global-helpers.js","collections/algorithms.ts","collections/results.ts"],"names":["module","export","composer","React","link","default","v","setDefaults","Tracker","Loader","errorHandler","error","Meteor","isProduction","JSON","stringify","compose","loadingHandler","pure","getTrackerLoader","reactiveMapper","props","onData","env","trackerCleanup","handler","nonreactive","autorun","stop","options","Results","ResultsComponent","subscriptions","subscribe","every","subscription","ready","results","find","fetch","exportDefault","Component","Table","moment","columns","label","value","format","toLocaleString","minimumFractionDigits","maximumFractionDigits","ResultsTab","constructor","args","renderHeader","map","index","renderRow","row","render","Algorithms","Training","categories","randomizableAlgorithm","randomizableScramble","algorithmsCategory","settingsDisabled","algorithms","forEach","result","algorithm","alg","_id","algorithmId","category","cat","concat","time","_objectSpread","PropTypes","Grid","Menu","SemanticToastContainer","toast","AlgSettings","Averages","TipsAndTricks","TrainingMain","getRandomScramble","getRandomEntry","array","excludeId","Math","floor","random","length","entry","toastNoActiveAlgorithms","title","type","description","onChangeAlgorithm","currentAlgorithmId","currentCategory","state","onReset","newAlgorithm","activeAlgorithms","filter","active","scramble","setState","currentAlgorithm","onChangeCategory","onToggleLoader","onToggleActive","call","onActivateAll","onDeactivateAll","onKeyDown","event","target","document","body","blocked","key","space","preventDefault","onGoToNextStatus","shift","isVisibleSolution","control","delete","onKeyPress","onKeyUp","upOrDown","timerCurrentValue","timerStatus","timerStartValue","valueOf","timer","setInterval","updateTimerTime","clearInterval","image","solution","subtype","settingsOpened","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","currentAlgorithms","propTypes","func","isRequired","useState","Button","List","Segment","groupBy","Slider","createSliderWithTooltip","getAverage","SliderTooltip","detailsLevel","setDetailsLevel","algorithmsGrouped","placement","visible","borderRadius","Object","entries","name","values","object","currentAlgorithmAvg","currentCategoryAvg","averages","includes","header","number","Container","MenuTop","onChangeTab","e","currentTab","newValue","isVisibleLoader","bind","Router","Dimmer","LoaderSemantic","backgroundColor","_objectWithoutProperties","Icon","Link","rest","console","log","string","Timer","bool","tipsList","tip","icon","Container2","startup","getElementById","allowedMoves","getRandomMove","movesConflict","moveA","moveB","split","some","character","movesNr","moves","move","previousMove","i","push","join"],"mappings":"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","file":"/app.js","sourcesContent":["import React from 'react';\nimport { setDefaults } from 'react-komposer';\nimport { Tracker } from 'meteor/tracker';\n\nimport Loader from '../components/loader';\n\nconst errorHandler = error =>\n  Meteor.isProduction ? (\n    <span>An error occurred.</span>\n  ) : (\n    <code>{JSON.stringify(error, null, 2)}</code>\n  );\n\nconst compose = setDefaults({\n  errorHandler,\n  loadingHandler: Loader,\n  pure: true\n});\n\nconst getTrackerLoader = reactiveMapper => {\n  return (props, onData, env) => {\n    let trackerCleanup = null;\n    const handler = Tracker.nonreactive(() => {\n      return Tracker.autorun(() => {\n        // assign the custom clean-up function.\n        trackerCleanup = reactiveMapper(props, onData, env);\n      });\n    });\n\n    return () => {\n      if (typeof trackerCleanup === 'function') trackerCleanup();\n      return handler.stop();\n    };\n  };\n};\n\nexport const composer = (reactiveMapper, options) => {\n  return compose(\n    getTrackerLoader(reactiveMapper),\n    options\n  );\n};\n","import { Meteor } from 'meteor/meteor';\n\nimport { Results } from '/collections/results';\nimport { composer } from '../../lib/composer';\nimport ResultsComponent from './results';\n\nconst compose = (props, onData) => {\n  const subscriptions = [Meteor.subscribe('results')];\n\n  if (subscriptions.every(subscription => subscription.ready())) {\n    const results = Results.find({}).fetch();\n    onData(null, { results });\n  }\n};\n\nexport default composer(compose)(ResultsComponent);\n","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst columns = [\n  {\n    label: 'Date',\n    value: 'createdAt',\n    format: value => moment(value).format('DD-MM-YYYY HH:ss')\n  },\n  {\n    label: 'Category',\n    value: 'category'\n  },\n  {\n    label: 'Scramble',\n    value: 'scramble'\n  },\n  {\n    label: 'Time',\n    value: 'time',\n    format: value =>\n      (value / 1000).toLocaleString('en-US', {\n        minimumFractionDigits: 3,\n        maximumFractionDigits: 3\n      }) + 's'\n  }\n];\n\nclass ResultsTab extends Component {\n  constructor(args) {\n    super(args);\n  }\n\n  renderHeader = () => (\n    <Table.Row>\n      {columns.map(({ label }, index) => (\n        <Table.HeaderCell key={index}>{label}</Table.HeaderCell>\n      ))}\n    </Table.Row>\n  );\n\n  renderRow = row => (\n    <Table.Row>\n      {columns.map(({ value, format = value => value }, index) => (\n        <Table.Cell key={index}>{format(row[value])}</Table.Cell>\n      ))}\n    </Table.Row>\n  );\n\n  render() {\n    const { results } = this.props;\n\n    return (\n      <Table\n        inverted\n        headerRow={this.renderHeader}\n        tableData={results}\n        renderBodyRow={this.renderRow}\n      />\n    );\n  }\n}\n\nexport default ResultsTab;\n","import { Meteor } from 'meteor/meteor';\n\nimport { Algorithms } from '../../../../collections/algorithms';\nimport { Results } from '../../../../collections/results';\nimport { composer } from '../../lib/composer';\nimport Training from './training';\n\n// TODO move it\nconst categories = [\n  {\n    label: 'OLL',\n    value: 'OLL',\n    randomizableAlgorithm: true\n  },\n  {\n    label: 'PLL',\n    value: 'PLL',\n    randomizableAlgorithm: true\n  },\n  {\n    label: '3x3x3',\n    value: '3x3x3',\n    randomizableScramble: true\n  },\n  {\n    label: 'OLL Attack',\n    value: 'OLL-attack',\n    algorithmsCategory: 'OLL',\n    settingsDisabled: true\n  },\n  {\n    label: 'PLL Attack',\n    value: 'PLL-attack',\n    algorithmsCategory: 'PLL',\n    settingsDisabled: true\n  }\n];\n\nconst compose = (props, onData) => {\n  const subscriptions = [\n    Meteor.subscribe('algorithms'),\n    Meteor.subscribe('results')\n  ];\n\n  if (subscriptions.every(subscription => subscription.ready())) {\n    const algorithms = Algorithms.find({}).fetch();\n    const results = Results.find({}).fetch();\n\n    results.forEach(result => {\n      const algorithm = algorithms.find(alg => alg._id === result.algorithmId);\n      const category = categories.find(cat => cat.value === result.category);\n      if (algorithm) {\n        algorithm.results = (algorithm.results || []).concat(result.time);\n      }\n      if (category) {\n        category.results = (category.results || []).concat(result.time);\n      }\n    });\n\n    onData(null, { algorithms, categories });\n  }\n};\n\nexport default composer(compose)(Training);\n","import React, { Component } from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { Grid, Menu } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\n\nimport AlgSettings from '../algSettings';\nimport Averages from '../averages';\nimport TipsAndTricks from '../tipsAndTricks';\nimport TrainingMain from '../trainingMain';\n\nimport { getRandomScramble } from '/lib/global-helpers';\n\n// TODO move it\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n};\n\n// TODO move it\nconst toastNoActiveAlgorithms = () =>\n  toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description:\n      'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n    this.props.onToggleLoader(false);\n\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  onChangeAlgorithm = () => {\n    const { algorithms } = this.props;\n    const { currentAlgorithmId, currentCategory } = this.state;\n\n    this.onReset();\n\n    let newAlgorithm;\n    if (currentCategory.randomizableAlgorithm) {\n      const activeAlgorithms = algorithms.filter(\n        algorithm =>\n          !!algorithm.active && algorithm.category === currentCategory.value\n      );\n\n      if (!activeAlgorithms.length) {\n        toastNoActiveAlgorithms();\n      }\n\n      newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n    } else if (currentCategory.randomizableScramble) {\n      const scramble = getRandomScramble(25);\n      newAlgorithm = { category: currentCategory.value, scramble };\n    }\n\n    this.setState({\n      currentAlgorithm: newAlgorithm,\n      currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n    });\n  };\n\n  onChangeCategory = category => {\n    this.props.onToggleLoader(true);\n\n    this.setState({ currentCategory: category }, () => {\n      this.onChangeAlgorithm();\n      this.props.onToggleLoader(false);\n    });\n  };\n\n  onToggleActive = algorithm => {\n    Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n  };\n\n  onActivateAll = () => {\n    const { currentCategory } = this.state;\n    Meteor.call('algorithms.activateAll', currentCategory.value);\n  };\n\n  onDeactivateAll = () => {\n    Meteor.call('algorithms.deactivateAll');\n    toastNoActiveAlgorithms();\n  };\n\n  onKeyDown = event => {\n    if (event.target !== document.body) {\n      return;\n    }\n\n    const blocked = this.state.blocked;\n\n    if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n      event.preventDefault();\n      this.onGoToNextStatus('down');\n      this.setState({ blocked: { ...blocked, space: true } });\n    } else if (event.key === 'r') {\n      event.preventDefault();\n      this.onChangeAlgorithm();\n    } else if (event.key === 'Shift' && !blocked.shift) {\n      event.preventDefault();\n      this.setState({\n        blocked: { ...blocked, shift: true },\n        isVisibleSolution: true\n      });\n    } else if (event.key === 'Control' && !blocked.control) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, control: true } });\n    } else if (\n      (event.key === 'Backspace' ||\n        event.key === 'Delete' ||\n        event.key === 'Escape') &&\n      !blocked.delete\n    ) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, delete: true } });\n    }\n  };\n\n  onKeyPress = event => {\n    if (event.key === ' ' && event.target === document.body) {\n      event.preventDefault();\n    }\n  };\n\n  onKeyUp = event => {\n    if (event.target !== document.body) {\n      return;\n    }\n\n    const { blocked, isVisibleSolution } = this.state;\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.onGoToNextStatus('up');\n      this.setState({ blocked: { ...blocked, space: false } });\n    } else if (event.key === 'Shift') {\n      this.setState({\n        blocked: { ...blocked, shift: false },\n        isVisibleSolution: false\n      });\n    } else if (event.key === 'Control') {\n      this.setState({\n        blocked: { ...blocked, control: false },\n        isVisibleSolution: !isVisibleSolution\n      });\n    } else if (\n      event.key === 'Backspace' ||\n      event.key === 'Delete' ||\n      event.key === 'Escape'\n    ) {\n      this.onChangeAlgorithm();\n      this.setState({ blocked: { ...blocked, delete: false } });\n    }\n  };\n\n  onGoToNextStatus = upOrDown => {\n    const {\n      blocked,\n      currentAlgorithm,\n      currentCategory,\n      timerCurrentValue,\n      timerStatus\n    } = this.state;\n\n    if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n      this.setState({ timerStatus: 'pre-inspection' });\n    } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n      this.setState({\n        timerStatus: 'timer-on',\n        timerStartValue: moment().valueOf()\n      });\n      this.timer = setInterval(this.updateTimerTime, 1);\n    } else if (\n      timerStatus === 'timer-on' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      clearInterval(this.timer);\n      this.setState({ timerStatus: 'timer-off' });\n    } else if (\n      timerStatus === 'timer-off' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      /* Save time */\n      const result = {\n        ...(currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }),\n        category: currentCategory.value,\n        time: timerCurrentValue\n      };\n\n      Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n    }\n  };\n\n  onReset = () => {\n    clearInterval(this.timer);\n    this.setState({ timerStatus: 'resetted', timerCurrentValue: 0 });\n  };\n\n  updateTimerTime = () => {\n    this.setState(state => ({\n      timerCurrentValue: moment().valueOf() - state.timerStartValue\n    }));\n  };\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: { algorithms, categories },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n\n    const currentAlgorithms = algorithms.filter(\n      algorithm => algorithm.category === currentCategory.value\n    );\n\n    return (\n      <>\n        <SemanticToastContainer />\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu className=\"left-menu\" inverted tabular vertical>\n              {categories.map(category => (\n                <Menu.Item\n                  key={category.value}\n                  name={category.label}\n                  active={currentCategory.value === category.value}\n                  onClick={() => onChangeCategory(category)}\n                />\n              ))}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8} textAlign=\"center\">\n            <TrainingMain\n              currentAlgorithm={currentAlgorithm}\n              isVisibleSolution={isVisibleSolution}\n              onChangeAlgorithm={onChangeAlgorithm}\n              timerCurrentValue={timerCurrentValue}\n            />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <Averages\n              currentAlgorithm={currentAlgorithm}\n              currentCategory={currentCategory}\n            />\n            <TipsAndTricks />\n          </Grid.Column>\n        </Grid>\n        {this.state.settingsOpened && (\n          <AlgSettings\n            algorithms={currentAlgorithms}\n            currentCategory={currentCategory}\n            onActivateAll={onActivateAll}\n            onToggleActive={onToggleActive}\n            onDeactivateAll={onDeactivateAll}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nTraining.propTypes = {\n  onToggleLoader: PropTypes.func.isRequired\n};\n\nexport default Training;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, List, Segment } from 'semantic-ui-react';\nimport groupBy from 'lodash/groupBy';\nimport Slider, { createSliderWithTooltip } from 'rc-slider';\nimport { getAverage } from '../../utils';\n\nconst SliderTooltip = createSliderWithTooltip(Slider);\n\nconst AlgSettings = ({\n  algorithms,\n  currentCategory: { settingsDisabled },\n  onActivateAll,\n  onToggleActive,\n  onDeactivateAll\n}) => {\n  const [detailsLevel, setDetailsLevel] = useState(1);\n\n  const algorithmsGrouped =\n    detailsLevel === 0\n      ? groupBy(algorithms, 'category')\n      : detailsLevel === 1\n      ? groupBy(algorithms, 'type')\n      : detailsLevel === 2\n      ? groupBy(algorithms, 'subtype')\n      : [];\n\n  return (\n    <section\n      className={`algorithm-settings${settingsDisabled ? ' disabled' : ''}`}\n    >\n      <List divided verticalAlign=\"middle\">\n        <List.Item>\n          <List.Content floated=\"right\">\n            <div className=\"grouping-level\">\n              <div className=\"title\">Grouping level</div>\n              <SliderTooltip\n                min={0}\n                max={2}\n                onChange={setDetailsLevel}\n                tipFormatter={value => ['None', 'General', 'Precise'][value]}\n                tipProps={{\n                  placement: 'bottom',\n                  visible: true,\n                  borderRadius: '0px'\n                }}\n                value={detailsLevel}\n              />\n            </div>\n          </List.Content>\n          <List.Content>\n            {!settingsDisabled && (\n              <div className=\"controls\">\n                <Button\n                  secondary\n                  onClick={settingsDisabled ? null : onActivateAll}\n                >\n                  Select all\n                </Button>\n                <Button\n                  secondary\n                  onClick={settingsDisabled ? null : onDeactivateAll}\n                >\n                  Unselect all\n                </Button>\n              </div>\n            )}\n          </List.Content>\n        </List.Item>\n      </List>\n\n      {Object.entries(algorithmsGrouped).map(([name, values], index) => (\n        <Segment key={index}>\n          <h5>{name}</h5>\n          {values.map(algorithm => (\n            <div\n              key={algorithm._id}\n              className={`algorithm${\n                settingsDisabled || algorithm.active ? ' active' : ''\n              }`}\n              onClick={() =>\n                settingsDisabled ? null : onToggleActive(algorithm)\n              }\n            >\n              <img src={`/images/${algorithm.image}`} />\n              <div className=\"results-average\">\n                {getAverage(algorithm && algorithm.results)}\n              </div>\n            </div>\n          ))}\n        </Segment>\n      ))}\n    </section>\n  );\n};\n\nAlgSettings.propTypes = {\n  currentCategory: PropTypes.object.isRequired,\n  onActivateAll: PropTypes.func.isRequired,\n  onToggleActive: PropTypes.func.isRequired,\n  onDeactivateAll: PropTypes.func.isRequired\n};\n\nexport default AlgSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Segment } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { getAverage } from '../../utils';\n\nconst Averages = ({ currentAlgorithm, currentCategory }) => {\n  const currentAlgorithmAvg = getAverage(\n    currentAlgorithm && currentAlgorithm.results\n  );\n  const currentCategoryAvg = getAverage(\n    currentCategory && currentCategory.results\n  );\n\n  const averages = ['OLL', 'PLL'].includes(currentCategory.value)\n    ? [\n        {\n          header: 'Average for this algorithm',\n          description: currentAlgorithmAvg\n            ? moment(currentAlgorithmAvg).format('ss:SSS')\n            : 'No records'\n        },\n        {\n          header: `Average for all ${currentCategory.value} algorithms`,\n          description: currentCategoryAvg\n            ? moment(currentCategoryAvg).format('ss:SSS')\n            : 'No records'\n        }\n      ]\n    : [\n        {\n          header: `Average for all in ${currentCategory.value}`,\n          description: currentCategoryAvg\n            ? moment(currentCategoryAvg).format('mm:ss:SSS')\n            : 'No records'\n        }\n      ];\n\n  return (\n    <Segment className=\"averages\">\n      <List inverted items={averages} />\n    </Segment>\n  );\n};\n\nAverages.propTypes = {\n  currentAlgorithmAvg: PropTypes.number,\n  currentCategory: PropTypes.object,\n  currentCategoryAvg: PropTypes.number\n};\n\nexport default Averages;\n","import React, { Component } from 'react';\nimport { Segment } from 'semantic-ui-react';\n\nimport Loader from './loader';\nimport MenuTop from './menuTop';\nimport Results from './results';\nimport Training from './training';\n\nexport default class Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTab: 'training',\n      isVisibleLoader: true\n    };\n\n    this.onChangeTab = this.onChangeTab.bind(this);\n  }\n\n  onChangeTab = (e, { name }) => this.setState({ currentTab: name });\n  onToggleLoader = newValue => this.setState({ isVisibleLoader: newValue });\n\n  render() {\n    const {\n      onChangeTab,\n      onToggleLoader,\n\n      state: { currentTab, isVisibleLoader }\n    } = this;\n\n    return (\n      <div className=\"segment\">\n        <header>\n          <MenuTop currentTab={currentTab} onChangeTab={onChangeTab} />\n        </header>\n\n        <Segment>\n          {isVisibleLoader && <Loader />}\n\n          <main>\n            {currentTab === 'training' && (\n              <Training onToggleLoader={onToggleLoader} />\n            )}\n            {currentTab === 'results' && <Results />}\n          </main>\n        </Segment>\n\n        <footer />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Segment } from 'semantic-ui-react';\nimport { Router } from '@reach/router';\n\nimport Loader from './loader';\nimport MenuTop from './menuTop';\nimport Results from './results';\nimport Training from './training';\n\nexport default class Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisibleLoader: false\n    };\n  }\n\n  onToggleLoader = newValue => this.setState({ isVisibleLoader: newValue });\n\n  render() {\n    const {\n      onChangeTab,\n      onToggleLoader,\n      state: { isVisibleLoader }\n    } = this;\n\n    return (\n      <div>\n        <header>\n          <MenuTop onChangeTab={onChangeTab} />\n        </header>\n\n        {isVisibleLoader ? (\n          <Loader />\n        ) : (\n          <Router>\n            <Training\n              onToggleLoader={onToggleLoader}\n              path=\"/training\"\n              default\n            />\n            <Results path=\"/results\" />\n          </Router>\n        )}\n\n        <footer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Dimmer, Loader as LoaderSemantic } from 'semantic-ui-react';\n\nconst Loader = () => (\n  <Dimmer active page style={{ backgroundColor: 'rgba(0, 0, 0, 0.55)' }}>\n    <LoaderSemantic size=\"large\">Loading</LoaderSemantic>\n  </Dimmer>\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon, Menu } from 'semantic-ui-react';\nimport { Link } from '@reach/router';\n\nconst currentTab = null;\nconst MenuTop = ({ onChangeTab, ...rest }) => console.log('rest', rest) || (\n  <Menu inverted icon=\"labeled\">\n    <Link to=\"/home\">\n      <Menu.Item\n        active={currentTab === 'home'}\n        color=\"green\"\n        name=\"home\"\n        onClick={onChangeTab}\n      >\n        <Icon name=\"home\" />\n        Home\n      </Menu.Item>\n    </Link>\n    <Menu.Item\n      active={currentTab === 'training'}\n      color=\"blue\"\n      name=\"training\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"book\" />\n      Training\n    </Menu.Item>\n    <Menu.Item\n      active={currentTab === 'results'}\n      color=\"orange\"\n      name=\"results\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"lightning\" />\n      Results\n    </Menu.Item>\n    <Menu.Item\n      active={currentTab === 'about'}\n      color=\"teal\"\n      name=\"about\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"idea\" />\n      About\n    </Menu.Item>\n  </Menu>\n);\nMenuTop.propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  onChangeTab: PropTypes.func.isRequired\n};\n\nexport default MenuTop;\n","import moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Timer = ({ isVisibleSolution, solution, timerCurrentValue }) => (\n  <div className=\"timer\">\n    <p>{moment(timerCurrentValue).format('mm:ss:SSS')}</p>\n    {isVisibleSolution && solution && <p>{solution}</p>}\n  </div>\n);\n\nTimer.propTypes = {\n  isVisibleSolution: PropTypes.bool.isRequired,\n  solution: PropTypes.string,\n  timerCurrentValue: PropTypes.number.isRequired\n};\n\nexport default Timer;\n","import React from 'react';\nimport { List, Segment } from 'semantic-ui-react';\n\nconst tipsList = [\n  {\n    header: 'Enter / Space',\n    description: '... -> start timer -> stop timer -> save result -> ...'\n  },\n  {\n    header: 'r',\n    description: 'Randomize new algorithm'\n  },\n  {\n    header: 'Shift (hold)',\n    description: 'Take a peek at the solution'\n  },\n  {\n    header: 'Control',\n    description: 'Show / hide the solution'\n  },\n  {\n    header: 'Backspace / Delete / Escape',\n    description: \"Reset timer - don't save the solution\"\n  }\n].map(tip => ({ ...tip, icon: 'lightbulb outline' }));\n\nconst TipsAndTricks = () => (\n  <Segment>\n    Shortcuts list:\n    <List celled inverted items={tipsList} />\n  </Segment>\n);\n\nexport default TipsAndTricks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Segment } from 'semantic-ui-react';\n\nimport Timer from './timer';\n\nconst TrainingMain = ({\n  onChangeAlgorithm,\n  currentAlgorithm: { image, scramble, solution } = {},\n  isVisibleSolution,\n  timerCurrentValue\n}) => (\n  <section className=\"training-main\">\n    {scramble && <Segment className=\"scramble-segment\">{scramble}</Segment>}\n    {image && (\n      <Segment className=\"image-segment\">\n        <img src={`/images/${image}`} />\n      </Segment>\n    )}\n    <Segment className=\"timer-segment\">\n      <Timer\n        isVisibleSolution={isVisibleSolution}\n        solution={solution}\n        timerCurrentValue={timerCurrentValue}\n      />\n    </Segment>\n    {(image || solution) && (\n      <Segment>\n        <Button primary onClick={() => onChangeAlgorithm()}>\n          Randomize new\n        </Button>\n      </Segment>\n    )}\n  </section>\n);\n\nTrainingMain.propTypes = {\n  currentAlgorithm: PropTypes.object,\n  isVisibleSolution: PropTypes.bool.isRequired,\n  onChangeAlgorithm: PropTypes.func.isRequired,\n  timerCurrentValue: PropTypes.number.isRequired\n};\n\nexport default TrainingMain;\n","export const getAverage = (results: number[]): number => {\n  if (!results || results.length === 0) {\n    return 0;\n  }\n\n  return Math.round(\n    results.reduce((sum, result) => sum + result, 0) / results.length\n  );\n};\n","import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\n\nimport Container from './imports/components/container';\nimport Container2 from './imports/components/container2';\n\nimport 'rc-slider/assets/index.css';\nimport 'react-semantic-toasts/styles/react-semantic-alert.css';\n\nMeteor.startup(() => {\n  render(<Container2 />, document.getElementById('render-target'));\n});\n","const allowedMoves = [\n  'F',\n  \"F'\",\n  'F2',\n  'B',\n  \"B'\",\n  'B2',\n  'R',\n  \"R'\",\n  'R2',\n  'L',\n  \"L'\",\n  'L2',\n  'U',\n  \"U'\",\n  'U2',\n  'D',\n  \"D'\",\n  'D2'\n];\n\nconst getRandomMove = () =>\n  allowedMoves[Math.floor(Math.random() * allowedMoves.length)];\nconst movesConflict = (moveA, moveB) =>\n  moveA &&\n  moveB &&\n  moveA.split('').some(character => moveB.includes(character));\n\nexport const getRandomScramble = movesNr => {\n  const moves = [];\n\n  let move;\n  let previousMove;\n  for (let i = 0; i < movesNr; i++) {\n    move = getRandomMove();\n    while (movesConflict(move, previousMove)) {\n      move = getRandomMove();\n    }\n\n    previousMove = move;\n    moves.push(move);\n  }\n\n  return moves.join(' ');\n};\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nimport { expect } from 'chai';\n\nexport const Algorithms = new Mongo.Collection('algorithms');\n\nMeteor.methods({\n  'algorithms.toggleActive': (algId, active) => {\n    check(active, Boolean);\n    check(algId, String);\n\n    Algorithms.update(algId, { $set: { active } });\n  },\n  'algorithms.activateAll': category => {\n    Algorithms.update(\n      { category },\n      { $set: { active: true } },\n      { multi: true }\n    );\n  },\n  'algorithms.deactivateAll': category => {\n    Algorithms.update(\n      { category },\n      { $set: { active: false } },\n      { multi: true }\n    );\n  },\n  'algorithms.insert': ({\n    category,\n    image,\n    scramble,\n    solution,\n    subtype,\n    type\n  }) => {\n    expect(category).to.be.a('string');\n    expect(image).to.be.a('string');\n    expect(scramble).to.be.a('string');\n    expect(solution).to.be.a('string');\n    expect(subtype).to.be.a('string');\n    expect(type).to.be.a('string');\n\n    // Make sure the user is logged in before inserting a algorithm\n    /* if (! Meteor.userId()) {\n         throw new Meteor.Error('not-authorized');\n     }*/\n\n    const doc = {\n      createdAt: new Date(),\n      category,\n      image,\n      scramble,\n      solution,\n      subtype,\n      type\n    };\n\n    Algorithms.insert(doc);\n  },\n  'algorithms.search'(text) {\n    check(text, String);\n\n    return Algorithms.find();\n  },\n  'algorithms.remove'(algorithmId) {\n    check(algorithmId, String);\n\n    /*const algorithm = Algorithms.findOne(algorithmId);\n    if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n      // If the algorithm is private, make sure only the owner can delete it\n          throw new Meteor.Error('not-authorized');\n    }*/\n\n    Algorithms.remove(algorithmId);\n  } /*,\n    'algorithms.setChecked'(algorithmId, setChecked) {\n        check(algorithmId, String);\n        check(setChecked, Boolean);\n\n        const algorithm = Algorithms.findOne(algorithmId);\n        if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n              // If the algorithm is private, make sure only the owner can check it off\n                  throw new Meteor.Error('not-authorized');\n            }\n\n        Algorithms.update(algorithmId, { $set: { checked: setChecked } });\n    },\n    'algorithms.setPrivate'(algorithmId, setToPrivate) {\n        check(algorithmId, String);\n        check(setToPrivate, Boolean);\n\n        const algorithm = Algorithms.findOne(algorithmId);\n\n        // Make sure only the algorithm owner can make a algorithm private\n        if (algorithm.owner !== Meteor.userId()) {\n            throw new Meteor.Error('not-authorized');\n        }\n\n        Algorithms.update(algorithmId, { $set: { private: setToPrivate } });\n    },*/\n});\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nexport const Results = new Mongo.Collection('results');\n\nMeteor.methods({\n  'results.insert': ({ algorithmId, category, real, scramble, time }) => {\n    check(category, String);\n    check(real, Boolean);\n    check(time, Number);\n\n    if (category === 'OLL' || category === 'PLL' || category === '3x3x3') {\n      check(scramble, String);\n    }\n\n    if (category === 'OLL' || category === 'PLL') {\n      check(algorithmId, String);\n    }\n\n    // Make sure the user is logged in before inserting a result\n    /* if (! Meteor.userId()) {\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n    const doc = {\n      algorithmId,\n      category,\n      createdAt: new Date(),\n      real,\n      scramble,\n      time\n    };\n\n    Results.insert(doc);\n  },\n  'results.search': text => {\n    check(text, String);\n\n    return Results.find();\n  },\n  'results.remove': resultId => {\n    check(resultId, String);\n\n    /*const result = Results.findOne(resultId);\n     if (result.private && result.owner !== Meteor.userId()) {\n     // If the result is private, make sure only the owner can delete it\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n    Results.remove(resultId);\n  }\n});\n"]}}]
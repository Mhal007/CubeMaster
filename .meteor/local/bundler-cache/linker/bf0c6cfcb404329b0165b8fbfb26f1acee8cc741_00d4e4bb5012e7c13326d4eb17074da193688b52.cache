[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package.modules.meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/template.main.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<div id=\"render-target\"></div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"lib\":{\"composer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/composer.js                                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  composer: function () {\n    return composer;\n  }\n});\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar setDefaults;\nmodule.link(\"react-komposer\", {\n  setDefaults: function (v) {\n    setDefaults = v;\n  }\n}, 1);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 2);\nvar Loader;\nmodule.link(\"../components/loader\", {\n  \"default\": function (v) {\n    Loader = v;\n  }\n}, 3);\n\nvar errorHandler = function (error) {\n  return Meteor.isProduction ? React.createElement(\"span\", null, \"An error occurred.\") : React.createElement(\"code\", null, JSON.stringify(error, null, 2));\n};\n\nvar compose = setDefaults({\n  errorHandler: errorHandler,\n  loadingHandler: Loader,\n  pure: true\n});\n\nvar getTrackerLoader = function (reactiveMapper) {\n  return function (props, onData, env) {\n    var trackerCleanup = null;\n    var handler = Tracker.nonreactive(function () {\n      return Tracker.autorun(function () {\n        // assign the custom clean-up function.\n        trackerCleanup = reactiveMapper(props, onData, env);\n      });\n    });\n    return function () {\n      if (typeof trackerCleanup === 'function') trackerCleanup();\n      return handler.stop();\n    };\n  };\n};\n\nvar composer = function (reactiveMapper, options) {\n  return compose(getTrackerLoader(reactiveMapper), options);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"components\":{\"results\":{\"index.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/results/index.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Results;\nmodule.link(\"/collections/results\", {\n  Results: function (v) {\n    Results = v;\n  }\n}, 1);\nvar composer;\nmodule.link(\"../../lib/composer\", {\n  composer: function (v) {\n    composer = v;\n  }\n}, 2);\nvar ResultsComponent;\nmodule.link(\"./results\", {\n  \"default\": function (v) {\n    ResultsComponent = v;\n  }\n}, 3);\n\nvar compose = function (props, onData) {\n  var subscriptions = [Meteor.subscribe('results')];\n\n  if (subscriptions.every(function (subscription) {\n    return subscription.ready();\n  })) {\n    var results = Results.find({}).fetch();\n    onData(null, {\n      results: results\n    });\n  }\n};\n\nmodule.exportDefault(composer(compose)(ResultsComponent));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"results.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/results/results.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 0);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Table;\nmodule.link(\"semantic-ui-react\", {\n  Table: function (v) {\n    Table = v;\n  }\n}, 1);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 2);\nvar columns = [{\n  label: 'Date',\n  value: 'createdAt',\n  format: function (value) {\n    return moment(value).format('DD-MM-YYYY HH:ss');\n  }\n}, {\n  label: 'Category',\n  value: 'category'\n}, {\n  label: 'Debugging',\n  value: 'real',\n  format: function (value) {\n    return value ? 'no' : 'yes';\n  } // not real means that it is debugging\n\n}, {\n  label: 'Scramble',\n  value: 'scramble'\n}, {\n  label: 'Time',\n  value: 'time',\n  format: function (value) {\n    return (value / 1000).toLocaleString('en-US', {\n      minimumFractionDigits: 3,\n      maximumFractionDigits: 3\n    }) + 's';\n  }\n}];\n\nvar ResultsTab =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ResultsTab, _Component);\n\n  function ResultsTab(args) {\n    var _this;\n\n    _this = _Component.call(this, args) || this;\n\n    _this.renderHeader = function () {\n      return React.createElement(Table.Row, null, columns.map(function (_ref, index) {\n        var label = _ref.label;\n        return React.createElement(Table.HeaderCell, {\n          key: index\n        }, label);\n      }));\n    };\n\n    _this.renderRow = function (row) {\n      return React.createElement(Table.Row, null, columns.map(function (_ref2, index) {\n        var value = _ref2.value,\n            _ref2$format = _ref2.format,\n            format = _ref2$format === void 0 ? function (value) {\n          return value;\n        } : _ref2$format;\n        return React.createElement(Table.Cell, {\n          key: index\n        }, format(row[value]));\n      }));\n    };\n\n    return _this;\n  }\n\n  var _proto = ResultsTab.prototype;\n\n  _proto.render = function () {\n    function render() {\n      var results = this.props.results;\n      return React.createElement(Table, {\n        inverted: true,\n        headerRow: this.renderHeader,\n        tableData: results,\n        renderBodyRow: this.renderRow\n      });\n    }\n\n    return render;\n  }();\n\n  return ResultsTab;\n}(Component);\n\nmodule.exportDefault(ResultsTab);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"training\":{\"index.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/training/index.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Algorithms;\nmodule.link(\"../../../collections/algorithms\", {\n  Algorithms: function (v) {\n    Algorithms = v;\n  }\n}, 1);\nvar Results;\nmodule.link(\"../../../collections/results\", {\n  Results: function (v) {\n    Results = v;\n  }\n}, 2);\nvar composer;\nmodule.link(\"../../lib/composer\", {\n  composer: function (v) {\n    composer = v;\n  }\n}, 3);\nvar Training;\nmodule.link(\"./training\", {\n  \"default\": function (v) {\n    Training = v;\n  }\n}, 4);\n// TODO move it\nvar categories = [{\n  label: 'OLL',\n  value: 'OLL',\n  randomizableAlgorithm: true\n}, {\n  label: 'PLL',\n  value: 'PLL',\n  randomizableAlgorithm: true\n}, {\n  label: '3x3x3',\n  value: '3x3x3',\n  randomizableScramble: true\n}, {\n  label: 'OLL Attack',\n  value: 'OLL-attack',\n  algorithmsCategory: 'OLL',\n  settingsDisabled: true\n}, {\n  label: 'PLL Attack',\n  value: 'PLL-attack',\n  algorithmsCategory: 'PLL',\n  settingsDisabled: true\n}];\n\nvar compose = function (props, onData) {\n  var subscriptions = [Meteor.subscribe('algorithms'), Meteor.subscribe('results')];\n\n  if (subscriptions.every(function (subscription) {\n    return subscription.ready();\n  })) {\n    var algorithms = Algorithms.find({}).fetch();\n    var results = Results.find({}).fetch();\n    results.forEach(function (result) {\n      var algorithm = algorithms.find(function (alg) {\n        return alg._id === result.algorithmId;\n      });\n      var category = categories.find(function (cat) {\n        return cat.value === result.category;\n      });\n\n      if (algorithm) {\n        algorithm.results = (algorithm.results || []).concat(result.time);\n      }\n\n      if (category) {\n        category.results = (category.results || []).concat(result.time);\n      }\n    });\n    onData(null, {\n      algorithms: algorithms,\n      categories: categories\n    });\n  }\n};\n\nmodule.exportDefault(composer(compose)(Training));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"training.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/training/training.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 1);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 2);\nvar Grid, Menu;\nmodule.link(\"semantic-ui-react\", {\n  Grid: function (v) {\n    Grid = v;\n  },\n  Menu: function (v) {\n    Menu = v;\n  }\n}, 3);\nvar SemanticToastContainer, toast;\nmodule.link(\"react-semantic-toasts\", {\n  SemanticToastContainer: function (v) {\n    SemanticToastContainer = v;\n  },\n  toast: function (v) {\n    toast = v;\n  }\n}, 4);\nvar AlgSettings;\nmodule.link(\"../algSettings\", {\n  \"default\": function (v) {\n    AlgSettings = v;\n  }\n}, 5);\nvar Averages;\nmodule.link(\"../averages\", {\n  \"default\": function (v) {\n    Averages = v;\n  }\n}, 6);\nvar TipsAndTricks;\nmodule.link(\"../tipsAndTricks\", {\n  \"default\": function (v) {\n    TipsAndTricks = v;\n  }\n}, 7);\nvar TrainingMain;\nmodule.link(\"../trainingMain\", {\n  \"default\": function (v) {\n    TrainingMain = v;\n  }\n}, 8);\nvar getRandomScramble;\nmodule.link(\"/lib/global-helpers\", {\n  getRandomScramble: function (v) {\n    getRandomScramble = v;\n  }\n}, 9);\n\n// TODO move it\nvar getRandomEntry = function (array, excludeId) {\n  var index = Math.floor(Math.random() * array.length);\n  var entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n}; // TODO move it\n\n\nvar toastNoActiveAlgorithms = function () {\n  return toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description: 'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n};\n\nvar Training =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Training, _Component);\n\n  function Training(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onChangeAlgorithm = function () {\n      var algorithms = _this.props.algorithms;\n      var _this$state = _this.state,\n          currentAlgorithmId = _this$state.currentAlgorithmId,\n          currentCategory = _this$state.currentCategory;\n\n      _this.onReset();\n\n      var newAlgorithm;\n\n      if (currentCategory.randomizableAlgorithm) {\n        var activeAlgorithms = algorithms.filter(function (algorithm) {\n          return !!algorithm.active && algorithm.category === currentCategory.value;\n        });\n\n        if (!activeAlgorithms.length) {\n          toastNoActiveAlgorithms();\n        }\n\n        newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n      } else if (currentCategory.randomizableScramble) {\n        var scramble = getRandomScramble(25);\n        newAlgorithm = {\n          category: currentCategory.value,\n          scramble: scramble\n        };\n      }\n\n      _this.setState({\n        currentAlgorithm: newAlgorithm,\n        currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n\n      });\n    };\n\n    _this.onChangeCategory = function (category) {\n      _this.props.onToggleLoader(true);\n\n      _this.setState({\n        currentCategory: category\n      }, function () {\n        _this.onChangeAlgorithm();\n\n        _this.props.onToggleLoader(false);\n      });\n    };\n\n    _this.onToggleActive = function (algorithm) {\n      Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n    };\n\n    _this.onActivateAll = function () {\n      var currentCategory = _this.state.currentCategory;\n      Meteor.call('algorithms.activateAll', currentCategory.value);\n    };\n\n    _this.onDeactivateAll = function () {\n      Meteor.call('algorithms.deactivateAll');\n      toastNoActiveAlgorithms();\n    };\n\n    _this.onKeyDown = function (event) {\n      if (event.target !== document.body) {\n        return;\n      }\n\n      var blocked = _this.state.blocked;\n\n      if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n        event.preventDefault();\n\n        _this.onGoToNextStatus('down');\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: true\n          })\n        });\n      } else if (event.key === 'r') {\n        event.preventDefault();\n\n        _this.onChangeAlgorithm();\n      } else if (event.key === 'Shift' && !blocked.shift) {\n        event.preventDefault();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: true\n          }),\n          isVisibleSolution: true\n        });\n      } else if (event.key === 'Control' && !blocked.control) {\n        event.preventDefault();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: true\n          })\n        });\n      } else if ((event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') && !blocked.delete) {\n        event.preventDefault();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            \"delete\": true\n          })\n        });\n      }\n    };\n\n    _this.onKeyPress = function (event) {\n      if (event.key === ' ' && event.target === document.body) {\n        event.preventDefault();\n      }\n    };\n\n    _this.onKeyUp = function (event) {\n      if (event.target !== document.body) {\n        return;\n      }\n\n      var _this$state2 = _this.state,\n          blocked = _this$state2.blocked,\n          isVisibleSolution = _this$state2.isVisibleSolution;\n\n      if (event.key === 'Enter' || event.key === ' ') {\n        _this.onGoToNextStatus('up');\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            space: false\n          })\n        });\n      } else if (event.key === 'Shift') {\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            shift: false\n          }),\n          isVisibleSolution: false\n        });\n      } else if (event.key === 'Control') {\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            control: false\n          }),\n          isVisibleSolution: !isVisibleSolution\n        });\n      } else if (event.key === 'Backspace' || event.key === 'Delete' || event.key === 'Escape') {\n        _this.onChangeAlgorithm();\n\n        _this.setState({\n          blocked: _objectSpread({}, blocked, {\n            \"delete\": false\n          })\n        });\n      }\n    };\n\n    _this.onGoToNextStatus = function (upOrDown) {\n      var _this$state3 = _this.state,\n          blocked = _this$state3.blocked,\n          currentAlgorithm = _this$state3.currentAlgorithm,\n          currentCategory = _this$state3.currentCategory,\n          timerCurrentValue = _this$state3.timerCurrentValue,\n          timerStatus = _this$state3.timerStatus;\n\n      if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n        _this.setState({\n          timerStatus: 'pre-inspection'\n        });\n      } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n        _this.setState({\n          timerStatus: 'timer-on',\n          timerStartValue: moment().valueOf()\n        });\n\n        _this.timer = setInterval(_this.updateTimerTime, 1);\n      } else if (timerStatus === 'timer-on' && upOrDown === 'down' && !blocked.space) {\n        clearInterval(_this.timer);\n\n        _this.setState({\n          timerStatus: 'timer-off'\n        });\n      } else if (timerStatus === 'timer-off' && upOrDown === 'down' && !blocked.space) {\n        /* Save time */\n        var result = _objectSpread({}, currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }, {\n          category: currentCategory.value,\n          real: !_this.props.debugging,\n          time: timerCurrentValue\n        });\n\n        Meteor.call('results.insert', result, function () {\n          return _this.onChangeAlgorithm();\n        });\n      }\n    };\n\n    _this.onReset = function () {\n      clearInterval(_this.timer);\n\n      _this.setState({\n        timerStatus: 'resetted',\n        timerCurrentValue: 0\n      });\n    };\n\n    _this.updateTimerTime = function () {\n      _this.setState(function (state) {\n        return {\n          timerCurrentValue: moment().valueOf() - state.timerStartValue\n        };\n      });\n    };\n\n    _this.state = {\n      blocked: {\n        control: false,\n        \"delete\": false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: _this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n    return _this;\n  }\n\n  var _proto = Training.prototype;\n\n  _proto.componentDidMount = function () {\n    function componentDidMount() {\n      this.onChangeAlgorithm();\n      this.props.onToggleLoader(false);\n      document.body.addEventListener('keydown', this.onKeyDown);\n      document.body.addEventListener('keypress', this.onKeyPress);\n      document.body.addEventListener('keyup', this.onKeyUp);\n    }\n\n    return componentDidMount;\n  }();\n\n  _proto.componentWillUnmount = function () {\n    function componentWillUnmount() {\n      document.body.removeEventListener('keydown', this.onKeyDown);\n      document.body.removeEventListener('keypress', this.onKeyPress);\n      document.body.removeEventListener('keyup', this.onKeyUp);\n    }\n\n    return componentWillUnmount;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this$state4 = this.state,\n          currentAlgorithm = _this$state4.currentAlgorithm,\n          currentCategory = _this$state4.currentCategory,\n          isVisibleSolution = _this$state4.isVisibleSolution,\n          timerCurrentValue = _this$state4.timerCurrentValue,\n          _this$props = this.props,\n          algorithms = _this$props.algorithms,\n          categories = _this$props.categories,\n          onActivateAll = this.onActivateAll,\n          onToggleActive = this.onToggleActive,\n          onChangeAlgorithm = this.onChangeAlgorithm,\n          onChangeCategory = this.onChangeCategory,\n          onDeactivateAll = this.onDeactivateAll;\n      var currentAlgorithms = algorithms.filter(function (algorithm) {\n        return algorithm.category === currentCategory.value;\n      });\n      return React.createElement(React.Fragment, null, React.createElement(SemanticToastContainer, null), React.createElement(Grid, null, React.createElement(Grid.Column, {\n        width: 4\n      }, React.createElement(Menu, {\n        className: \"left-menu\",\n        inverted: true,\n        tabular: true,\n        vertical: true\n      }, categories.map(function (category) {\n        return React.createElement(Menu.Item, {\n          key: category.value,\n          name: category.label,\n          active: currentCategory.value === category.value,\n          onClick: function () {\n            return onChangeCategory(category);\n          }\n        });\n      }))), React.createElement(Grid.Column, {\n        width: 8,\n        textAlign: \"center\"\n      }, React.createElement(TrainingMain, {\n        currentAlgorithm: currentAlgorithm,\n        isVisibleSolution: isVisibleSolution,\n        onChangeAlgorithm: onChangeAlgorithm,\n        timerCurrentValue: timerCurrentValue\n      })), React.createElement(Grid.Column, {\n        width: 4\n      }, React.createElement(Averages, {\n        currentAlgorithm: currentAlgorithm,\n        currentCategory: currentCategory\n      }), React.createElement(TipsAndTricks, null))), this.state.settingsOpened && React.createElement(AlgSettings, {\n        algorithms: currentAlgorithms,\n        currentCategory: currentCategory,\n        onActivateAll: onActivateAll,\n        onToggleActive: onToggleActive,\n        onDeactivateAll: onDeactivateAll\n      }), React.createElement(\"img\", {\n        src: \"/images/pll_2.png\"\n      }), React.createElement(\"img\", {\n        src: \"/images/pll_2.svg\"\n      }));\n    }\n\n    return render;\n  }();\n\n  return Training;\n}(Component);\n\nTraining.propTypes = {\n  onToggleLoader: PropTypes.func.isRequired,\n  debugging: PropTypes.bool.isRequired\n};\nmodule.exportDefault(Training);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"algSettings.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/algSettings.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar React, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Button, List, Segment;\nmodule.link(\"semantic-ui-react\", {\n  Button: function (v) {\n    Button = v;\n  },\n  List: function (v) {\n    List = v;\n  },\n  Segment: function (v) {\n    Segment = v;\n  }\n}, 2);\nvar groupBy;\nmodule.link(\"lodash/groupBy\", {\n  \"default\": function (v) {\n    groupBy = v;\n  }\n}, 3);\nvar Slider, createSliderWithTooltip;\nmodule.link(\"rc-slider\", {\n  \"default\": function (v) {\n    Slider = v;\n  },\n  createSliderWithTooltip: function (v) {\n    createSliderWithTooltip = v;\n  }\n}, 4);\nvar getAverage;\nmodule.link(\"../utils\", {\n  getAverage: function (v) {\n    getAverage = v;\n  }\n}, 5);\nvar SliderTooltip = createSliderWithTooltip(Slider);\n\nvar AlgSettings = function (_ref) {\n  var algorithms = _ref.algorithms,\n      settingsDisabled = _ref.currentCategory.settingsDisabled,\n      onActivateAll = _ref.onActivateAll,\n      onToggleActive = _ref.onToggleActive,\n      onDeactivateAll = _ref.onDeactivateAll;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      detailsLevel = _useState2[0],\n      setDetailsLevel = _useState2[1];\n\n  var algorithmsGrouped = detailsLevel === 0 ? groupBy(algorithms, 'category') : detailsLevel === 1 ? groupBy(algorithms, 'type') : detailsLevel === 2 ? groupBy(algorithms, 'subtype') : [];\n  return React.createElement(\"section\", {\n    className: \"algorithm-settings\" + (settingsDisabled ? ' disabled' : '')\n  }, React.createElement(List, {\n    divided: true,\n    verticalAlign: \"middle\"\n  }, React.createElement(List.Item, null, React.createElement(List.Content, {\n    floated: \"right\"\n  }, React.createElement(\"div\", {\n    className: \"grouping-level\"\n  }, React.createElement(\"div\", {\n    className: \"title\"\n  }, \"Grouping level\"), React.createElement(SliderTooltip, {\n    min: 0,\n    max: 2,\n    onChange: setDetailsLevel,\n    tipFormatter: function (value) {\n      return ['None', 'General', 'Precise'][value];\n    },\n    tipProps: {\n      placement: 'bottom',\n      visible: true,\n      borderRadius: '0px'\n    },\n    value: detailsLevel\n  }))), React.createElement(List.Content, null, !settingsDisabled && React.createElement(\"div\", {\n    className: \"controls\"\n  }, React.createElement(Button, {\n    secondary: true,\n    onClick: settingsDisabled ? null : onActivateAll\n  }, \"Select all\"), React.createElement(Button, {\n    secondary: true,\n    onClick: settingsDisabled ? null : onDeactivateAll\n  }, \"Unselect all\"))))), Object.entries(algorithmsGrouped).map(function (_ref2, index) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        name = _ref3[0],\n        values = _ref3[1];\n\n    return React.createElement(Segment, {\n      key: index\n    }, React.createElement(\"h5\", null, name), values.map(function (algorithm) {\n      return React.createElement(\"div\", {\n        key: algorithm._id,\n        className: \"algorithm\" + (settingsDisabled || algorithm.active ? ' active' : ''),\n        onClick: function () {\n          return settingsDisabled ? null : onToggleActive(algorithm);\n        }\n      }, React.createElement(\"img\", {\n        src: \"/images/\" + algorithm.image\n      }), React.createElement(\"div\", {\n        className: \"results-average\"\n      }, getAverage(algorithm && algorithm.results)));\n    }));\n  }));\n};\n\nAlgSettings.propTypes = {\n  currentCategory: PropTypes.object.isRequired,\n  onActivateAll: PropTypes.func.isRequired,\n  onToggleActive: PropTypes.func.isRequired,\n  onDeactivateAll: PropTypes.func.isRequired\n};\nmodule.exportDefault(AlgSettings);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"averages.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/averages.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar List, Segment;\nmodule.link(\"semantic-ui-react\", {\n  List: function (v) {\n    List = v;\n  },\n  Segment: function (v) {\n    Segment = v;\n  }\n}, 2);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 3);\nvar getAverage;\nmodule.link(\"../utils\", {\n  getAverage: function (v) {\n    getAverage = v;\n  }\n}, 4);\n\nvar Averages = function (_ref) {\n  var currentAlgorithm = _ref.currentAlgorithm,\n      currentCategory = _ref.currentCategory;\n  var currentAlgorithmAvg = getAverage(currentAlgorithm && currentAlgorithm.results);\n  var currentCategoryAvg = getAverage(currentCategory && currentCategory.results);\n  var averages = ['OLL', 'PLL'].includes(currentCategory.value) ? [{\n    header: 'Average for this algorithm',\n    description: currentAlgorithmAvg ? moment(currentAlgorithmAvg).format('ss:SSS') : 'No records'\n  }, {\n    header: \"Average for all \" + currentCategory.value + \" algorithms\",\n    description: currentCategoryAvg ? moment(currentCategoryAvg).format('ss:SSS') : 'No records'\n  }] : [{\n    header: \"Average for all in \" + currentCategory.value,\n    description: currentCategoryAvg ? moment(currentCategoryAvg).format('mm:ss:SSS') : 'No records'\n  }];\n  return React.createElement(Segment, {\n    className: \"averages\"\n  }, React.createElement(List, {\n    inverted: true,\n    items: averages\n  }));\n};\n\nAverages.propTypes = {\n  currentAlgorithmAvg: PropTypes.number,\n  currentCategory: PropTypes.object,\n  currentCategoryAvg: PropTypes.number\n};\nmodule.exportDefault(Averages);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"container.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/container.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _assertThisInitialized;\n\nmodule.link(\"@babel/runtime/helpers/assertThisInitialized\", {\n  default: function (v) {\n    _assertThisInitialized = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nmodule.export({\n  \"default\": function () {\n    return Container;\n  }\n});\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nvar Segment;\nmodule.link(\"semantic-ui-react\", {\n  Segment: function (v) {\n    Segment = v;\n  }\n}, 1);\nvar Loader;\nmodule.link(\"./loader\", {\n  \"default\": function (v) {\n    Loader = v;\n  }\n}, 2);\nvar MenuTop;\nmodule.link(\"./menuTop\", {\n  \"default\": function (v) {\n    MenuTop = v;\n  }\n}, 3);\nvar Results;\nmodule.link(\"./results\", {\n  \"default\": function (v) {\n    Results = v;\n  }\n}, 4);\nvar Training;\nmodule.link(\"./training\", {\n  \"default\": function (v) {\n    Training = v;\n  }\n}, 5);\n\nvar Container =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Container, _Component);\n\n  function Container(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onChangeTab = function (e, _ref) {\n      var name = _ref.name;\n      return _this.setState({\n        currentTab: name\n      });\n    };\n\n    _this.onToggleLoader = function (newValue) {\n      return _this.setState({\n        isVisibleLoader: newValue\n      });\n    };\n\n    _this.state = {\n      currentTab: 'training',\n      isVisibleLoader: true\n    };\n    _this.onChangeTab = _this.onChangeTab.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Container.prototype;\n\n  _proto.render = function () {\n    function render() {\n      var onChangeTab = this.onChangeTab,\n          onToggleLoader = this.onToggleLoader,\n          _this$state = this.state,\n          currentTab = _this$state.currentTab,\n          isVisibleLoader = _this$state.isVisibleLoader;\n      return React.createElement(\"div\", {\n        className: \"segment\"\n      }, React.createElement(\"header\", null, React.createElement(MenuTop, {\n        currentTab: currentTab,\n        onChangeTab: onChangeTab\n      })), React.createElement(Segment, null, isVisibleLoader && React.createElement(Loader, null), React.createElement(\"main\", null, (currentTab === 'training' || currentTab === 'debugging') && React.createElement(Training, {\n        onToggleLoader: onToggleLoader,\n        debugging: currentTab === 'debugging'\n      }), currentTab === 'results' && React.createElement(Results, {\n        debugging: currentTab === 'debugging'\n      }))), React.createElement(\"footer\", null));\n    }\n\n    return render;\n  }();\n\n  return Container;\n}(Component);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"loader.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/loader.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar Dimmer, LoaderSemantic;\nmodule.link(\"semantic-ui-react\", {\n  Dimmer: function (v) {\n    Dimmer = v;\n  },\n  Loader: function (v) {\n    LoaderSemantic = v;\n  }\n}, 1);\n\nvar Loader = function () {\n  return React.createElement(Dimmer, {\n    active: true,\n    page: true,\n    style: {\n      backgroundColor: 'rgba(0, 0, 0, 0.55)'\n    }\n  }, React.createElement(LoaderSemantic, {\n    size: \"large\"\n  }, \"Loading\"));\n};\n\nmodule.exportDefault(Loader);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"menuTop.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/menuTop.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Icon, Menu;\nmodule.link(\"semantic-ui-react\", {\n  Icon: function (v) {\n    Icon = v;\n  },\n  Menu: function (v) {\n    Menu = v;\n  }\n}, 2);\n\nvar MenuTop = function (_ref) {\n  var currentTab = _ref.currentTab,\n      onChangeTab = _ref.onChangeTab;\n  return React.createElement(Menu, {\n    inverted: true,\n    icon: \"labeled\"\n  }, React.createElement(Menu.Item, {\n    active: currentTab === 'home',\n    color: \"green\",\n    name: \"home\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"home\"\n  }), \"Home\"), React.createElement(Menu.Item, {\n    active: currentTab === 'training',\n    color: \"blue\",\n    name: \"training\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"book\"\n  }), \"Training\"), React.createElement(Menu.Item, {\n    active: currentTab === 'debugging',\n    color: \"brown\",\n    name: \"debugging\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"pencil\"\n  }), \"Debugging\"), React.createElement(Menu.Item, {\n    active: currentTab === 'results',\n    color: \"orange\",\n    name: \"results\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"lightning\"\n  }), \"Results\"), React.createElement(Menu.Item, {\n    active: currentTab === 'about',\n    color: \"teal\",\n    name: \"about\",\n    onClick: onChangeTab\n  }, React.createElement(Icon, {\n    name: \"idea\"\n  }), \"About\"));\n};\n\nMenuTop.propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  onChangeTab: PropTypes.func.isRequired\n};\nmodule.exportDefault(MenuTop);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"timer.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/timer.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 2);\n\nvar Timer = function (_ref) {\n  var isVisibleSolution = _ref.isVisibleSolution,\n      solution = _ref.solution,\n      timerCurrentValue = _ref.timerCurrentValue;\n  return React.createElement(\"div\", {\n    className: \"timer\"\n  }, React.createElement(\"p\", null, moment(timerCurrentValue).format('mm:ss:SSS')), isVisibleSolution && solution && React.createElement(\"p\", null, solution));\n};\n\nTimer.propTypes = {\n  isVisibleSolution: PropTypes.bool.isRequired,\n  solution: PropTypes.string,\n  timerCurrentValue: PropTypes.number.isRequired\n};\nmodule.exportDefault(Timer);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"tipsAndTricks.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/tipsAndTricks.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar List, Segment;\nmodule.link(\"semantic-ui-react\", {\n  List: function (v) {\n    List = v;\n  },\n  Segment: function (v) {\n    Segment = v;\n  }\n}, 1);\nvar tipsList = [{\n  header: 'Enter / Space',\n  description: '... -> start timer -> stop timer -> save result -> ...'\n}, {\n  header: 'r',\n  description: 'Randomize new algorithm'\n}, {\n  header: 'Shift (hold)',\n  description: 'Take a peek at the solution'\n}, {\n  header: 'Control',\n  description: 'Show / hide the solution'\n}, {\n  header: 'Backspace / Delete / Escape',\n  description: \"Reset timer - don't save the solution\"\n}].map(function (tip) {\n  return _objectSpread({}, tip, {\n    icon: 'lightbulb outline'\n  });\n});\n\nvar TipsAndTricks = function () {\n  return React.createElement(Segment, null, \"Shortcuts list:\", React.createElement(List, {\n    celled: true,\n    inverted: true,\n    items: tipsList\n  }));\n};\n\nmodule.exportDefault(TipsAndTricks);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"trainingMain.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/components/trainingMain.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar PropTypes;\nmodule.link(\"prop-types\", {\n  \"default\": function (v) {\n    PropTypes = v;\n  }\n}, 1);\nvar Button, Segment;\nmodule.link(\"semantic-ui-react\", {\n  Button: function (v) {\n    Button = v;\n  },\n  Segment: function (v) {\n    Segment = v;\n  }\n}, 2);\nvar Timer;\nmodule.link(\"./timer\", {\n  \"default\": function (v) {\n    Timer = v;\n  }\n}, 3);\n\nvar TrainingMain = function (_ref) {\n  var onChangeAlgorithm = _ref.onChangeAlgorithm,\n      _ref$currentAlgorithm = _ref.currentAlgorithm;\n  _ref$currentAlgorithm = _ref$currentAlgorithm === void 0 ? {} : _ref$currentAlgorithm;\n  var image = _ref$currentAlgorithm.image,\n      scramble = _ref$currentAlgorithm.scramble,\n      solution = _ref$currentAlgorithm.solution,\n      isVisibleSolution = _ref.isVisibleSolution,\n      timerCurrentValue = _ref.timerCurrentValue;\n  return React.createElement(\"section\", {\n    className: \"training-main\"\n  }, scramble && React.createElement(Segment, {\n    className: \"scramble-segment\"\n  }, scramble), image && React.createElement(Segment, {\n    className: \"image-segment\"\n  }, React.createElement(\"img\", {\n    src: \"/images/\" + image\n  })), React.createElement(Segment, {\n    className: \"timer-segment\"\n  }, React.createElement(Timer, {\n    isVisibleSolution: isVisibleSolution,\n    solution: solution,\n    timerCurrentValue: timerCurrentValue\n  })), (image || solution) && React.createElement(Segment, null, React.createElement(Button, {\n    primary: true,\n    onClick: function () {\n      return onChangeAlgorithm();\n    }\n  }, \"Randomize new\")));\n};\n\nTrainingMain.propTypes = {\n  currentAlgorithm: PropTypes.object,\n  isVisibleSolution: PropTypes.bool.isRequired,\n  onChangeAlgorithm: PropTypes.func.isRequired,\n  timerCurrentValue: PropTypes.number.isRequired\n};\nmodule.exportDefault(TrainingMain);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"utils.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/utils.js                                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  getAverage: function () {\n    return getAverage;\n  }\n});\n\nvar getAverage = function (results) {\n  if (!results || results.length === 0) {\n    return 0;\n  }\n\n  return Math.round(results.reduce(function (sum, result) {\n    return sum + result;\n  }, 0) / results.length);\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 0);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 1);\nvar render;\nmodule.link(\"react-dom\", {\n  render: function (v) {\n    render = v;\n  }\n}, 2);\nvar Container;\nmodule.link(\"./components/container\", {\n  \"default\": function (v) {\n    Container = v;\n  }\n}, 3);\nmodule.link(\"rc-slider/assets/index.css\");\nmodule.link(\"react-semantic-toasts/styles/react-semantic-alert.css\");\nMeteor.startup(function () {\n  render(React.createElement(Container, null), document.getElementById('render-target'));\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"global-helpers.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/global-helpers.js                                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  getRandomScramble: function () {\n    return getRandomScramble;\n  }\n});\nvar allowedMoves = ['F', \"F'\", 'F2', 'B', \"B'\", 'B2', 'R', \"R'\", 'R2', 'L', \"L'\", 'L2', 'U', \"U'\", 'U2', 'D', \"D'\", 'D2'];\n\nvar getRandomMove = function () {\n  return allowedMoves[Math.floor(Math.random() * allowedMoves.length)];\n};\n\nvar movesConflict = function (moveA, moveB) {\n  return moveA && moveB && moveA.split('').some(function (character) {\n    return moveB.includes(character);\n  });\n};\n\nvar getRandomScramble = function (movesNr) {\n  var moves = [];\n  var move;\n  var previousMove;\n\n  for (var i = 0; i < movesNr; i++) {\n    move = getRandomMove();\n\n    while (movesConflict(move, previousMove)) {\n      move = getRandomMove();\n    }\n\n    previousMove = move;\n    moves.push(move);\n  }\n\n  return moves.join(' ');\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"collections\":{\"algorithms.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// collections/algorithms.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Algorithms: function () {\n    return Algorithms;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 1);\nvar check;\nmodule.link(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  }\n}, 2);\nvar expect;\nmodule.link(\"chai\", {\n  expect: function (v) {\n    expect = v;\n  }\n}, 3);\nvar Algorithms = new Mongo.Collection('algorithms');\nMeteor.methods({\n  'algorithms.toggleActive': function (algId, active) {\n    check(active, Boolean);\n    check(algId, String);\n    Algorithms.update(algId, {\n      $set: {\n        active: active\n      }\n    });\n  },\n  'algorithms.activateAll': function (category) {\n    Algorithms.update({\n      category: category\n    }, {\n      $set: {\n        active: true\n      }\n    }, {\n      multi: true\n    });\n  },\n  'algorithms.deactivateAll': function (category) {\n    Algorithms.update({\n      category: category\n    }, {\n      $set: {\n        active: false\n      }\n    }, {\n      multi: true\n    });\n  },\n  'algorithms.insert': function (_ref) {\n    var category = _ref.category,\n        image = _ref.image,\n        scramble = _ref.scramble,\n        solution = _ref.solution,\n        subtype = _ref.subtype,\n        type = _ref.type;\n    expect(category).to.be.a('string');\n    expect(image).to.be.a('string');\n    expect(scramble).to.be.a('string');\n    expect(solution).to.be.a('string');\n    expect(subtype).to.be.a('string');\n    expect(type).to.be.a('string'); // Make sure the user is logged in before inserting a algorithm\n\n    /* if (! Meteor.userId()) {\n         throw new Meteor.Error('not-authorized');\n     }*/\n\n    var doc = {\n      createdAt: new Date(),\n      category: category,\n      image: image,\n      scramble: scramble,\n      solution: solution,\n      subtype: subtype,\n      type: type\n    };\n    Algorithms.insert(doc);\n  },\n  'algorithms.search': function (text) {\n    check(text, String);\n    return Algorithms.find();\n  },\n  'algorithms.remove': function (algorithmId) {\n    check(algorithmId, String);\n    /*const algorithm = Algorithms.findOne(algorithmId);\n    if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n      // If the algorithm is private, make sure only the owner can delete it\n          throw new Meteor.Error('not-authorized');\n    }*/\n\n    Algorithms.remove(algorithmId);\n  }\n  /*,\n  'algorithms.setChecked'(algorithmId, setChecked) {\n      check(algorithmId, String);\n      check(setChecked, Boolean);\n       const algorithm = Algorithms.findOne(algorithmId);\n      if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n            // If the algorithm is private, make sure only the owner can check it off\n                throw new Meteor.Error('not-authorized');\n          }\n       Algorithms.update(algorithmId, { $set: { checked: setChecked } });\n  },\n  'algorithms.setPrivate'(algorithmId, setToPrivate) {\n      check(algorithmId, String);\n      check(setToPrivate, Boolean);\n       const algorithm = Algorithms.findOne(algorithmId);\n       // Make sure only the algorithm owner can make a algorithm private\n      if (algorithm.owner !== Meteor.userId()) {\n          throw new Meteor.Error('not-authorized');\n      }\n       Algorithms.update(algorithmId, { $set: { private: setToPrivate } });\n  },*/\n\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"results.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// collections/results.js                                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  Results: function () {\n    return Results;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Mongo;\nmodule.link(\"meteor/mongo\", {\n  Mongo: function (v) {\n    Mongo = v;\n  }\n}, 1);\nvar check;\nmodule.link(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  }\n}, 2);\nvar Results = new Mongo.Collection('results');\nMeteor.methods({\n  'results.insert': function (_ref) {\n    var algorithmId = _ref.algorithmId,\n        category = _ref.category,\n        real = _ref.real,\n        scramble = _ref.scramble,\n        time = _ref.time;\n    check(category, String);\n    check(real, Boolean);\n    check(time, Number);\n\n    if (category === 'OLL' || category === 'PLL' || category === '3x3x3') {\n      check(scramble, String);\n    }\n\n    if (category === 'OLL' || category === 'PLL') {\n      check(algorithmId, String);\n    } // Make sure the user is logged in before inserting a result\n\n    /* if (! Meteor.userId()) {\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n\n    var doc = {\n      algorithmId: algorithmId,\n      category: category,\n      createdAt: new Date(),\n      real: real,\n      scramble: scramble,\n      time: time\n    };\n    Results.insert(doc);\n  },\n  'results.search': function (text) {\n    check(text, String);\n    return Results.find();\n  },\n  'results.remove': function (resultId) {\n    check(resultId, String);\n    /*const result = Results.findOne(resultId);\n     if (result.private && result.owner !== Meteor.userId()) {\n     // If the result is private, make sure only the owner can delete it\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n    Results.remove(resultId);\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"devops\":{\"generateSVGs.ts\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// devops/generateSVGs.ts                                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _regeneratorRuntime;\n\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\nvar fs;\nmodule.link(\"fs\", {\n  \"*\": function (v) {\n    fs = v;\n  }\n}, 0);\nvar OLLs, PLLs;\nmodule.link(\"../server/imports/const\", {\n  OLLs: function (v) {\n    OLLs = v;\n  },\n  PLLs: function (v) {\n    PLLs = v;\n  }\n}, 1);\nvar filesPath = '../public/images/';\n\nvar getSVGcontent = function (_ref, squareLength) {\n  var squares = _ref.squares,\n      strikes = _ref.strikes,\n      _ref$lines = _ref.lines,\n      lines = _ref$lines === void 0 ? [] : _ref$lines;\n  var spacingLength = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : squareLength / 10;\n  var cubeSize = squares[0].length;\n  console.log('lines', lines);\n  var colorPrimary = '#ffff45';\n  var colorSecondary = 'gray';\n  var colorBackground = 'black';\n  var squaresFormatted = squares.map(function (row, rowIndex) {\n    return row.map(function (face, columnIndex) {\n      return {\n        x: spacingLength * 2 + columnIndex * (squareLength + spacingLength),\n        y: spacingLength * 2 + rowIndex * (squareLength + spacingLength),\n        width: squareLength,\n        height: squareLength,\n        fill: face ? colorPrimary : colorSecondary,\n        stroke: colorBackground,\n        strokeWidth: spacingLength\n      };\n    });\n  });\n\n  var getStrikePosition = function (index) {\n    if (index === 0) {\n      return 0.5 * spacingLength;\n    }\n\n    if (index - 1 === cubeSize) {\n      return 1.5 * spacingLength + (index - 1) * (spacingLength + squareLength);\n    }\n\n    return spacingLength * 2 + (index - 1) * (spacingLength + squareLength);\n  };\n\n  var strikesTop = strikes[0] ? strikes[0].map(function (strike, strikeIndex) {\n    return {\n      x: getStrikePosition(strikeIndex + 1),\n      y: getStrikePosition(0),\n      width: squareLength,\n      height: spacingLength,\n      fill: strike ? colorPrimary : ''\n    };\n  }) : [];\n  var strikesRight = strikes[1] ? strikes[1].map(function (strike, strikeIndex) {\n    return {\n      x: getStrikePosition(cubeSize + 1),\n      y: getStrikePosition(strikeIndex + 1),\n      width: spacingLength,\n      height: squareLength,\n      fill: strike ? colorPrimary : ''\n    };\n  }) : [];\n  var strikesBottom = strikes[2] ? strikes[2].map(function (strike, strikeIndex) {\n    return {\n      x: getStrikePosition(strikeIndex + 1),\n      y: getStrikePosition(cubeSize + 1),\n      width: squareLength,\n      height: spacingLength,\n      fill: strike ? colorPrimary : ''\n    };\n  }) : [];\n  var strikesLeft = strikes[3] ? strikes[3].map(function (strike, strikeIndex) {\n    return {\n      x: getStrikePosition(0),\n      y: getStrikePosition(strikeIndex + 1),\n      width: spacingLength,\n      height: squareLength,\n      fill: strike ? colorPrimary : ''\n    };\n  }) : [];\n  var strikesFormatted = [strikesTop, strikesRight, strikesBottom, strikesLeft];\n\n  var getCenter = function (_ref2) {\n    var squareX = _ref2.x,\n        squareY = _ref2.y;\n    var x = 2 * spacingLength + 0.5 * squareLength + (spacingLength + squareLength) * squareX;\n    var y = 2 * spacingLength + 0.5 * squareLength + (spacingLength + squareLength) * squareY;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var getPoints = function (line) {\n    return line.map(function (point) {\n      return getCenter(point);\n    });\n  };\n\n  var lineToMarker = function (pointA, pointB) {\n    var pointC = {\n      x: pointA.x + Math.abs(pointB.x - pointA.x),\n      y: pointA.y\n    };\n    var rotationAngle = Math.atan2(pointB.y - pointA.y, pointB.x - pointA.x) * 180 / Math.PI - Math.atan2(pointC.y - pointA.y, pointC.x - pointA.x);\n    var leftBackPoint = {\n      x: pointB.x - 0.25 * squareLength,\n      y: pointB.y - 0.25 * squareLength\n    };\n    var rightBackPoint = {\n      x: pointB.x - 0.25 * squareLength,\n      y: pointB.y + 0.25 * squareLength\n    };\n    console.log('pointA', pointA);\n    console.log('pointB', pointB);\n    console.log('leftBackPoint', leftBackPoint);\n    console.log('rightBackPoint', rightBackPoint);\n    return {\n      points: [leftBackPoint, pointB, rightBackPoint],\n      angle: rotationAngle\n    };\n  };\n\n  var getMarkers = function (line) {\n    var markers = [];\n\n    for (var i = 0; i < line.length; i++) {\n      if (i > 0) {\n        markers.push(lineToMarker(line[i - 1], line[i]));\n      }\n    }\n\n    markers.push(lineToMarker(line[line.length - 1], line[0]));\n    return markers;\n  };\n\n  var linesFormatted = lines.map(function (line) {\n    return getPoints(line);\n  });\n  var boardSize = spacingLength * 3 + cubeSize * (squareLength + spacingLength);\n  var content = \"\\n    <svg \\n      xmlns=\\\"http://www.w3.org/2000/svg\\\" \\n      width=\\\"\" + boardSize + \"\\\"\\n      height=\\\"\" + boardSize + \"\\\"\\n    >\\n      <!-- BACKGROUND -->\\n      <rect \\n        width=\\\"\" + boardSize + \"\\\"\\n        height=\\\"\" + boardSize + \"\\\"\\n        fill=\\\"\" + colorBackground + \"\\\"  \\n      />\\n      \\n      <!-- SQUARES -->\\n      \" + squaresFormatted.map(function (row) {\n    return row.map(function (square) {\n      return \"\\n                <rect \\n                  x=\\\"\" + square.x + \"\\\" \\n                  y=\\\"\" + square.y + \"\\\" \\n                  width=\\\"\" + square.width + \"\\\"\\n                  height=\\\"\" + square.height + \"\\\"\\n                  fill=\\\"\" + square.fill + \"\\\"\\n                />\\n              \";\n    }).join('');\n  }).join('') + \"\\n      \\n          \\n      <!-- STRIKES -->\\n      \" + strikesFormatted.map(function (strikeGroup) {\n    return strikeGroup.filter(function (strike) {\n      return strike.fill;\n    }).map(function (strike) {\n      return \"\\n                <rect \\n                  x=\\\"\" + strike.x + \"\\\" \\n                  y=\\\"\" + strike.y + \"\\\" \\n                  width=\\\"\" + strike.width + \"\\\"\\n                  height=\\\"\" + strike.height + \"\\\"\\n                  fill=\\\"\" + strike.fill + \"\\\"\\n                />\\n              \";\n    }).join('');\n  }).join('') + \"\\n      \\n      <!-- LINES -->\\n      \" + linesFormatted.map(function (line) {\n    return \"\\n          <polyline \\n          points=\\\"\" + (line.reduce(function (points, point) {\n      return points + \" \" + point.x + \",\" + point.y;\n    }, '') + (\" \" + line[0].x + \",\" + line[0].y)) + \"\\\" \\n          fill=\\\"none\\\" \\n          stroke=\\\"orange\\\" \\n          stroke-width=\\\"3\\\"\\n          />\\n        \";\n  }) + \"\\n      \\n      <!-- MARKERS -->\\n      \" + linesFormatted.map(function (line) {\n    return getMarkers(line).map(function (_ref3) {\n      var points = _ref3.points,\n          angle = _ref3.angle;\n      return \"\\n                <polygon \\n                  points=\\\"\" + points.reduce(function (points, point) {\n        return points + \" \" + point.x + \",\" + point.y;\n      }, '') + \"\\\"\\n                  fill=\\\"red\\\" \\n                  transform=\\\"\\n                  translate(\" + points[1].x + \" \" + points[1].y + \") \\n                  rotate(\" + angle + \" 0 0) \\n                  translate(\" + -1 * points[1].x + \" \" + -1 * points[1].y + \")\\\"\\n                />\\n              \";\n    }).join('');\n  }).join('') + \"\\n    </svg>\\n  \";\n  return content;\n};\n\nvar writeFile = function (path, name, extension, content) {\n  return new Promise(function (resolve) {\n    fs.writeFile(\"\" + path + name + extension, content, function (err) {\n      if (err) {\n        throw err;\n      }\n\n      resolve(\"File \" + name + \" created successfully\");\n    });\n  });\n};\n/* write files */\n\n\nOLLs.filter(function (OLL) {\n  return OLL.squares;\n}).forEach(function () {\n  function _callee(scramble) {\n    var content, result;\n    return _regeneratorRuntime.async(function () {\n      function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              content = getSVGcontent(scramble, 25, 3);\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(writeFile(filesPath, scramble.name, '.svg', content));\n\n            case 3:\n              result = _context.sent;\n              console.info(result);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }\n\n      return _callee$;\n    }());\n  }\n\n  return _callee;\n}());\nPLLs.filter(function (PLL) {\n  return PLL.lines && PLL.lines.length;\n}).forEach(function () {\n  function _callee2(scramble) {\n    var content, result;\n    return _regeneratorRuntime.async(function () {\n      function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              content = getSVGcontent(scramble, 25, 3);\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(writeFile(filesPath, scramble.name, '.svg', content));\n\n            case 3:\n              result = _context2.sent;\n              console.info(result);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }\n\n      return _callee2$;\n    }());\n  }\n\n  return _callee2;\n}());\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".ts\",\n    \".jsx\",\n    \".mjs\",\n    \".tsx\",\n    \".css\",\n    \".less\"\n  ]\n});\n\nrequire(\"/client/template.main.js\");\nrequire(\"/client/lib/composer.js\");\nrequire(\"/lib/global-helpers.js\");\nrequire(\"/client/components/results/index.js\");\nrequire(\"/client/components/results/results.js\");\nrequire(\"/client/components/training/index.js\");\nrequire(\"/client/components/training/training.js\");\nrequire(\"/client/components/algSettings.js\");\nrequire(\"/client/components/averages.js\");\nrequire(\"/client/components/container.js\");\nrequire(\"/client/components/loader.js\");\nrequire(\"/client/components/menuTop.js\");\nrequire(\"/client/components/timer.js\");\nrequire(\"/client/components/tipsAndTricks.js\");\nrequire(\"/client/components/trainingMain.js\");\nrequire(\"/client/utils.js\");\nrequire(\"/collections/algorithms.js\");\nrequire(\"/collections/results.js\");\nrequire(\"/devops/generateSVGs.ts\");\nrequire(\"/client/main.js\");","hash":"5f10c2443a83aac46e332ec66d7323cf8c37e685","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/lib/composer.js","client/components/results/index.js","client/components/results/results.js","client/components/training/index.js","client/components/training/training.js","client/components/algSettings.js","client/components/averages.js","client/components/container.js","client/components/loader.js","client/components/menuTop.js","client/components/timer.js","client/components/tipsAndTricks.js","client/components/trainingMain.js","client/utils.js","client/main.js","lib/global-helpers.js","collections/algorithms.js","collections/results.js","devops/generateSVGs.ts"],"names":["module","export","composer","React","link","v","setDefaults","Tracker","Loader","errorHandler","error","Meteor","isProduction","JSON","stringify","compose","loadingHandler","pure","getTrackerLoader","reactiveMapper","props","onData","env","trackerCleanup","handler","nonreactive","autorun","stop","options","Results","ResultsComponent","subscriptions","subscribe","every","subscription","ready","results","find","fetch","exportDefault","_inheritsLoose","default","Component","Table","moment","columns","label","value","format","toLocaleString","minimumFractionDigits","maximumFractionDigits","ResultsTab","args","renderHeader","map","index","renderRow","row","render","Algorithms","Training","categories","randomizableAlgorithm","randomizableScramble","algorithmsCategory","settingsDisabled","algorithms","forEach","result","algorithm","alg","_id","algorithmId","category","cat","concat","time","_objectSpread","PropTypes","Grid","Menu","SemanticToastContainer","toast","AlgSettings","Averages","TipsAndTricks","TrainingMain","getRandomScramble","getRandomEntry","array","excludeId","Math","floor","random","length","entry","toastNoActiveAlgorithms","title","type","description","onChangeAlgorithm","state","currentAlgorithmId","currentCategory","onReset","newAlgorithm","activeAlgorithms","filter","active","scramble","setState","currentAlgorithm","onChangeCategory","onToggleLoader","onToggleActive","call","onActivateAll","onDeactivateAll","onKeyDown","event","target","document","body","blocked","key","space","preventDefault","onGoToNextStatus","shift","isVisibleSolution","control","delete","onKeyPress","onKeyUp","upOrDown","timerCurrentValue","timerStatus","timerStartValue","valueOf","timer","setInterval","updateTimerTime","clearInterval","real","debugging","image","solution","subtype","settingsOpened","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","currentAlgorithms","propTypes","func","isRequired","bool","_slicedToArray","useState","Button","List","Segment","groupBy","Slider","createSliderWithTooltip","getAverage","SliderTooltip","detailsLevel","setDetailsLevel","algorithmsGrouped","placement","visible","borderRadius","Object","entries","name","values","object","currentAlgorithmAvg","currentCategoryAvg","averages","includes","header","number","_assertThisInitialized","Container","MenuTop","onChangeTab","e","currentTab","newValue","isVisibleLoader","bind","Dimmer","LoaderSemantic","backgroundColor","Icon","string","Timer","tipsList","tip","icon","round","reduce","sum","startup","getElementById","allowedMoves","getRandomMove","movesConflict","moveA","moveB","split","some","character","movesNr","moves","move","previousMove","i","push","join","Mongo","check","expect","Collection","methods","algId","Boolean","String","update","$set","multi","to","be","a","doc","createdAt","Date","insert","text","remove","Number","resultId"],"mappings":"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","file":"/app.js","sourcesContent":["import React from 'react';\nimport { setDefaults } from 'react-komposer';\nimport { Tracker } from 'meteor/tracker';\n\nimport Loader from '../components/loader';\n\nconst errorHandler = error =>\n  Meteor.isProduction ? (\n    <span>An error occurred.</span>\n  ) : (\n    <code>{JSON.stringify(error, null, 2)}</code>\n  );\n\nconst compose = setDefaults({\n  errorHandler,\n  loadingHandler: Loader,\n  pure: true\n});\n\nconst getTrackerLoader = reactiveMapper => {\n  return (props, onData, env) => {\n    let trackerCleanup = null;\n    const handler = Tracker.nonreactive(() => {\n      return Tracker.autorun(() => {\n        // assign the custom clean-up function.\n        trackerCleanup = reactiveMapper(props, onData, env);\n      });\n    });\n\n    return () => {\n      if (typeof trackerCleanup === 'function') trackerCleanup();\n      return handler.stop();\n    };\n  };\n};\n\nexport const composer = (reactiveMapper, options) => {\n  return compose(\n    getTrackerLoader(reactiveMapper),\n    options\n  );\n};\n","import { Meteor } from 'meteor/meteor';\n\nimport { Results } from '/collections/results';\nimport { composer } from '../../lib/composer';\nimport ResultsComponent from './results';\n\nconst compose = (props, onData) => {\n  const subscriptions = [Meteor.subscribe('results')];\n\n  if (subscriptions.every(subscription => subscription.ready())) {\n    const results = Results.find({}).fetch();\n    onData(null, { results });\n  }\n};\n\nexport default composer(compose)(ResultsComponent);\n","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react';\nimport moment from 'moment';\n\nconst columns = [\n  {\n    label: 'Date',\n    value: 'createdAt',\n    format: value => moment(value).format('DD-MM-YYYY HH:ss')\n  },\n  {\n    label: 'Category',\n    value: 'category'\n  },\n  {\n    label: 'Debugging',\n    value: 'real',\n    format: value => (value ? 'no' : 'yes') // not real means that it is debugging\n  },\n  {\n    label: 'Scramble',\n    value: 'scramble'\n  },\n  {\n    label: 'Time',\n    value: 'time',\n    format: value =>\n      (value / 1000).toLocaleString('en-US', {\n        minimumFractionDigits: 3,\n        maximumFractionDigits: 3\n      }) + 's'\n  }\n];\n\nclass ResultsTab extends Component {\n  constructor(args) {\n    super(args);\n  }\n\n  renderHeader = () => (\n    <Table.Row>\n      {columns.map(({ label }, index) => (\n        <Table.HeaderCell key={index}>{label}</Table.HeaderCell>\n      ))}\n    </Table.Row>\n  );\n\n  renderRow = row => (\n    <Table.Row>\n      {columns.map(({ value, format = value => value }, index) => (\n        <Table.Cell key={index}>{format(row[value])}</Table.Cell>\n      ))}\n    </Table.Row>\n  );\n\n  render() {\n    const { results } = this.props;\n\n    return (\n      <Table\n        inverted\n        headerRow={this.renderHeader}\n        tableData={results}\n        renderBodyRow={this.renderRow}\n      />\n    );\n  }\n}\n\nexport default ResultsTab;\n","import { Meteor } from 'meteor/meteor';\n\nimport { Algorithms } from '../../../collections/algorithms';\nimport { Results } from '../../../collections/results';\nimport { composer } from '../../lib/composer';\nimport Training from './training';\n\n// TODO move it\nconst categories = [\n  {\n    label: 'OLL',\n    value: 'OLL',\n    randomizableAlgorithm: true\n  },\n  {\n    label: 'PLL',\n    value: 'PLL',\n    randomizableAlgorithm: true\n  },\n  {\n    label: '3x3x3',\n    value: '3x3x3',\n    randomizableScramble: true\n  },\n  {\n    label: 'OLL Attack',\n    value: 'OLL-attack',\n    algorithmsCategory: 'OLL',\n    settingsDisabled: true\n  },\n  {\n    label: 'PLL Attack',\n    value: 'PLL-attack',\n    algorithmsCategory: 'PLL',\n    settingsDisabled: true\n  }\n];\n\nconst compose = (props, onData) => {\n  const subscriptions = [\n    Meteor.subscribe('algorithms'),\n    Meteor.subscribe('results')\n  ];\n\n  if (subscriptions.every(subscription => subscription.ready())) {\n    const algorithms = Algorithms.find({}).fetch();\n    const results = Results.find({}).fetch();\n\n    results.forEach(result => {\n      const algorithm = algorithms.find(alg => alg._id === result.algorithmId);\n      const category = categories.find(cat => cat.value === result.category);\n      if (algorithm) {\n        algorithm.results = (algorithm.results || []).concat(result.time);\n      }\n      if (category) {\n        category.results = (category.results || []).concat(result.time);\n      }\n    });\n\n    onData(null, { algorithms, categories });\n  }\n};\n\nexport default composer(compose)(Training);\n","import React, { Component } from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { Grid, Menu } from 'semantic-ui-react';\nimport { SemanticToastContainer, toast } from 'react-semantic-toasts';\n\nimport AlgSettings from '../algSettings';\nimport Averages from '../averages';\nimport TipsAndTricks from '../tipsAndTricks';\nimport TrainingMain from '../trainingMain';\n\nimport { getRandomScramble } from '/lib/global-helpers';\n\n// TODO move it\nconst getRandomEntry = (array, excludeId) => {\n  const index = Math.floor(Math.random() * array.length);\n  const entry = array[index];\n\n  if (array.length > 1 && excludeId && entry._id === excludeId) {\n    return getRandomEntry(array, excludeId);\n  }\n\n  return entry;\n};\n\n// TODO move it\nconst toastNoActiveAlgorithms = () =>\n  toast({\n    title: 'No active algorithms',\n    type: 'warning',\n    description:\n      'Randomizing algorithms pauzed until you select at least one algorithm',\n    time: 5000\n  });\n\nclass Training extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      blocked: {\n        control: false,\n        delete: false,\n        shift: false,\n        space: false\n      },\n      currentAlgorithm: {\n        category: '',\n        image: '',\n        scramble: '',\n        solution: '',\n        subtype: '',\n        type: ''\n      },\n      currentAlgorithmId: 0,\n      currentCategory: this.props.categories[0],\n      isVisibleSolution: false,\n      settingsOpened: true,\n      timerCurrentValue: 0,\n      timerStartValue: 0,\n      timerStatus: 'resetted'\n    };\n  }\n\n  componentDidMount() {\n    this.onChangeAlgorithm();\n    this.props.onToggleLoader(false);\n\n    document.body.addEventListener('keydown', this.onKeyDown);\n    document.body.addEventListener('keypress', this.onKeyPress);\n    document.body.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('keydown', this.onKeyDown);\n    document.body.removeEventListener('keypress', this.onKeyPress);\n    document.body.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  onChangeAlgorithm = () => {\n    const { algorithms } = this.props;\n    const { currentAlgorithmId, currentCategory } = this.state;\n\n    this.onReset();\n\n    let newAlgorithm;\n    if (currentCategory.randomizableAlgorithm) {\n      const activeAlgorithms = algorithms.filter(\n        algorithm =>\n          !!algorithm.active && algorithm.category === currentCategory.value\n      );\n\n      if (!activeAlgorithms.length) {\n        toastNoActiveAlgorithms();\n      }\n\n      newAlgorithm = getRandomEntry(activeAlgorithms, currentAlgorithmId);\n    } else if (currentCategory.randomizableScramble) {\n      const scramble = getRandomScramble(25);\n      newAlgorithm = { category: currentCategory.value, scramble };\n    }\n\n    this.setState({\n      currentAlgorithm: newAlgorithm,\n      currentAlgorithmId: newAlgorithm && newAlgorithm._id // alg may be undefined, e.g. for {OLL,PLL}-Attack\n    });\n  };\n\n  onChangeCategory = category => {\n    this.props.onToggleLoader(true);\n\n    this.setState({ currentCategory: category }, () => {\n      this.onChangeAlgorithm();\n      this.props.onToggleLoader(false);\n    });\n  };\n\n  onToggleActive = algorithm => {\n    Meteor.call('algorithms.toggleActive', algorithm._id, !algorithm.active);\n  };\n\n  onActivateAll = () => {\n    const { currentCategory } = this.state;\n    Meteor.call('algorithms.activateAll', currentCategory.value);\n  };\n\n  onDeactivateAll = () => {\n    Meteor.call('algorithms.deactivateAll');\n    toastNoActiveAlgorithms();\n  };\n\n  onKeyDown = event => {\n    if (event.target !== document.body) {\n      return;\n    }\n\n    const blocked = this.state.blocked;\n\n    if ((event.key === 'Enter' || event.key === ' ') && !blocked.space) {\n      event.preventDefault();\n      this.onGoToNextStatus('down');\n      this.setState({ blocked: { ...blocked, space: true } });\n    } else if (event.key === 'r') {\n      event.preventDefault();\n      this.onChangeAlgorithm();\n    } else if (event.key === 'Shift' && !blocked.shift) {\n      event.preventDefault();\n      this.setState({\n        blocked: { ...blocked, shift: true },\n        isVisibleSolution: true\n      });\n    } else if (event.key === 'Control' && !blocked.control) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, control: true } });\n    } else if (\n      (event.key === 'Backspace' ||\n        event.key === 'Delete' ||\n        event.key === 'Escape') &&\n      !blocked.delete\n    ) {\n      event.preventDefault();\n      this.setState({ blocked: { ...blocked, delete: true } });\n    }\n  };\n\n  onKeyPress = event => {\n    if (event.key === ' ' && event.target === document.body) {\n      event.preventDefault();\n    }\n  };\n\n  onKeyUp = event => {\n    if (event.target !== document.body) {\n      return;\n    }\n\n    const { blocked, isVisibleSolution } = this.state;\n\n    if (event.key === 'Enter' || event.key === ' ') {\n      this.onGoToNextStatus('up');\n      this.setState({ blocked: { ...blocked, space: false } });\n    } else if (event.key === 'Shift') {\n      this.setState({\n        blocked: { ...blocked, shift: false },\n        isVisibleSolution: false\n      });\n    } else if (event.key === 'Control') {\n      this.setState({\n        blocked: { ...blocked, control: false },\n        isVisibleSolution: !isVisibleSolution\n      });\n    } else if (\n      event.key === 'Backspace' ||\n      event.key === 'Delete' ||\n      event.key === 'Escape'\n    ) {\n      this.onChangeAlgorithm();\n      this.setState({ blocked: { ...blocked, delete: false } });\n    }\n  };\n\n  onGoToNextStatus = upOrDown => {\n    const {\n      blocked,\n      currentAlgorithm,\n      currentCategory,\n      timerCurrentValue,\n      timerStatus\n    } = this.state;\n\n    if (timerStatus === 'resetted' && upOrDown === 'down' && !blocked.space) {\n      this.setState({ timerStatus: 'pre-inspection' });\n    } else if (timerStatus === 'pre-inspection' && upOrDown === 'up') {\n      this.setState({\n        timerStatus: 'timer-on',\n        timerStartValue: moment().valueOf()\n      });\n      this.timer = setInterval(this.updateTimerTime, 1);\n    } else if (\n      timerStatus === 'timer-on' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      clearInterval(this.timer);\n      this.setState({ timerStatus: 'timer-off' });\n    } else if (\n      timerStatus === 'timer-off' &&\n      upOrDown === 'down' &&\n      !blocked.space\n    ) {\n      /* Save time */\n      const result = {\n        ...(currentAlgorithm && {\n          algorithmId: currentAlgorithm._id,\n          scramble: currentAlgorithm.scramble\n        }),\n        category: currentCategory.value,\n        real: !this.props.debugging,\n        time: timerCurrentValue\n      };\n\n      Meteor.call('results.insert', result, () => this.onChangeAlgorithm());\n    }\n  };\n\n  onReset = () => {\n    clearInterval(this.timer);\n    this.setState({ timerStatus: 'resetted', timerCurrentValue: 0 });\n  };\n\n  updateTimerTime = () => {\n    this.setState(state => ({\n      timerCurrentValue: moment().valueOf() - state.timerStartValue\n    }));\n  };\n\n  render() {\n    const {\n      state: {\n        currentAlgorithm,\n        currentCategory,\n        isVisibleSolution,\n        timerCurrentValue\n      },\n      props: { algorithms, categories },\n      onActivateAll,\n      onToggleActive,\n      onChangeAlgorithm,\n      onChangeCategory,\n      onDeactivateAll\n    } = this;\n\n    const currentAlgorithms = algorithms.filter(\n      algorithm => algorithm.category === currentCategory.value\n    );\n\n    return (\n      <>\n        <SemanticToastContainer />\n        <Grid>\n          <Grid.Column width={4}>\n            <Menu className=\"left-menu\" inverted tabular vertical>\n              {categories.map(category => (\n                <Menu.Item\n                  key={category.value}\n                  name={category.label}\n                  active={currentCategory.value === category.value}\n                  onClick={() => onChangeCategory(category)}\n                />\n              ))}\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={8} textAlign=\"center\">\n            <TrainingMain\n              currentAlgorithm={currentAlgorithm}\n              isVisibleSolution={isVisibleSolution}\n              onChangeAlgorithm={onChangeAlgorithm}\n              timerCurrentValue={timerCurrentValue}\n            />\n          </Grid.Column>\n          <Grid.Column width={4}>\n            <Averages\n              currentAlgorithm={currentAlgorithm}\n              currentCategory={currentCategory}\n            />\n            <TipsAndTricks />\n          </Grid.Column>\n        </Grid>\n        {this.state.settingsOpened && (\n          <AlgSettings\n            algorithms={currentAlgorithms}\n            currentCategory={currentCategory}\n            onActivateAll={onActivateAll}\n            onToggleActive={onToggleActive}\n            onDeactivateAll={onDeactivateAll}\n          />\n        )}\n        <img src=\"/images/pll_2.png\" />\n        <img src=\"/images/pll_2.svg\" />\n      </>\n    );\n  }\n}\n\nTraining.propTypes = {\n  onToggleLoader: PropTypes.func.isRequired,\n  debugging: PropTypes.bool.isRequired\n};\n\nexport default Training;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, List, Segment } from 'semantic-ui-react';\nimport groupBy from 'lodash/groupBy';\nimport Slider, { createSliderWithTooltip } from 'rc-slider';\nimport { getAverage } from '../utils';\n\nconst SliderTooltip = createSliderWithTooltip(Slider);\n\nconst AlgSettings = ({\n  algorithms,\n  currentCategory: { settingsDisabled },\n  onActivateAll,\n  onToggleActive,\n  onDeactivateAll\n}) => {\n  const [detailsLevel, setDetailsLevel] = useState(1);\n\n  const algorithmsGrouped =\n    detailsLevel === 0\n      ? groupBy(algorithms, 'category')\n      : detailsLevel === 1\n      ? groupBy(algorithms, 'type')\n      : detailsLevel === 2\n      ? groupBy(algorithms, 'subtype')\n      : [];\n\n  return (\n    <section\n      className={`algorithm-settings${settingsDisabled ? ' disabled' : ''}`}\n    >\n      <List divided verticalAlign=\"middle\">\n        <List.Item>\n          <List.Content floated=\"right\">\n            <div className=\"grouping-level\">\n              <div className=\"title\">Grouping level</div>\n              <SliderTooltip\n                min={0}\n                max={2}\n                onChange={setDetailsLevel}\n                tipFormatter={value => ['None', 'General', 'Precise'][value]}\n                tipProps={{\n                  placement: 'bottom',\n                  visible: true,\n                  borderRadius: '0px'\n                }}\n                value={detailsLevel}\n              />\n            </div>\n          </List.Content>\n          <List.Content>\n            {!settingsDisabled && (\n              <div className=\"controls\">\n                <Button\n                  secondary\n                  onClick={settingsDisabled ? null : onActivateAll}\n                >\n                  Select all\n                </Button>\n                <Button\n                  secondary\n                  onClick={settingsDisabled ? null : onDeactivateAll}\n                >\n                  Unselect all\n                </Button>\n              </div>\n            )}\n          </List.Content>\n        </List.Item>\n      </List>\n\n      {Object.entries(algorithmsGrouped).map(([name, values], index) => (\n        <Segment key={index}>\n          <h5>{name}</h5>\n          {values.map(algorithm => (\n            <div\n              key={algorithm._id}\n              className={`algorithm${\n                settingsDisabled || algorithm.active ? ' active' : ''\n              }`}\n              onClick={() =>\n                settingsDisabled ? null : onToggleActive(algorithm)\n              }\n            >\n              <img src={`/images/${algorithm.image}`} />\n              <div className=\"results-average\">\n                {getAverage(algorithm && algorithm.results)}\n              </div>\n            </div>\n          ))}\n        </Segment>\n      ))}\n    </section>\n  );\n};\n\nAlgSettings.propTypes = {\n  currentCategory: PropTypes.object.isRequired,\n  onActivateAll: PropTypes.func.isRequired,\n  onToggleActive: PropTypes.func.isRequired,\n  onDeactivateAll: PropTypes.func.isRequired\n};\n\nexport default AlgSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { List, Segment } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { getAverage } from '../utils';\n\nconst Averages = ({ currentAlgorithm, currentCategory }) => {\n  const currentAlgorithmAvg = getAverage(\n    currentAlgorithm && currentAlgorithm.results\n  );\n  const currentCategoryAvg = getAverage(\n    currentCategory && currentCategory.results\n  );\n\n  const averages = ['OLL', 'PLL'].includes(currentCategory.value)\n    ? [\n        {\n          header: 'Average for this algorithm',\n          description: currentAlgorithmAvg\n            ? moment(currentAlgorithmAvg).format('ss:SSS')\n            : 'No records'\n        },\n        {\n          header: `Average for all ${currentCategory.value} algorithms`,\n          description: currentCategoryAvg\n            ? moment(currentCategoryAvg).format('ss:SSS')\n            : 'No records'\n        }\n      ]\n    : [\n        {\n          header: `Average for all in ${currentCategory.value}`,\n          description: currentCategoryAvg\n            ? moment(currentCategoryAvg).format('mm:ss:SSS')\n            : 'No records'\n        }\n      ];\n\n  return (\n    <Segment className=\"averages\">\n      <List inverted items={averages} />\n    </Segment>\n  );\n};\n\nAverages.propTypes = {\n  currentAlgorithmAvg: PropTypes.number,\n  currentCategory: PropTypes.object,\n  currentCategoryAvg: PropTypes.number\n};\n\nexport default Averages;\n","import React, { Component } from 'react';\nimport { Segment } from 'semantic-ui-react';\n\nimport Loader from './loader';\nimport MenuTop from './menuTop';\nimport Results from './results';\nimport Training from './training';\n\nexport default class Container extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentTab: 'training',\n      isVisibleLoader: true\n    };\n\n    this.onChangeTab = this.onChangeTab.bind(this);\n  }\n\n  onChangeTab = (e, { name }) => this.setState({ currentTab: name });\n  onToggleLoader = newValue => this.setState({ isVisibleLoader: newValue });\n\n  render() {\n    const {\n      onChangeTab,\n      onToggleLoader,\n\n      state: { currentTab, isVisibleLoader }\n    } = this;\n\n    return (\n      <div className=\"segment\">\n        <header>\n          <MenuTop currentTab={currentTab} onChangeTab={onChangeTab} />\n        </header>\n\n        <Segment>\n          {isVisibleLoader && <Loader />}\n\n          <main>\n            {(currentTab === 'training' || currentTab === 'debugging') && (\n              <Training\n                onToggleLoader={onToggleLoader}\n                debugging={currentTab === 'debugging'}\n              />\n            )}\n            {currentTab === 'results' && (\n              <Results debugging={currentTab === 'debugging'} />\n            )}\n          </main>\n        </Segment>\n\n        <footer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Dimmer, Loader as LoaderSemantic } from 'semantic-ui-react';\n\nconst Loader = () => (\n  <Dimmer active page style={{ backgroundColor: 'rgba(0, 0, 0, 0.55)' }}>\n    <LoaderSemantic size=\"large\">Loading</LoaderSemantic>\n  </Dimmer>\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Icon, Menu } from 'semantic-ui-react';\n\nconst MenuTop = ({ currentTab, onChangeTab }) => (\n  <Menu inverted icon=\"labeled\">\n    <Menu.Item\n      active={currentTab === 'home'}\n      color=\"green\"\n      name=\"home\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"home\" />\n      Home\n    </Menu.Item>\n    <Menu.Item\n      active={currentTab === 'training'}\n      color=\"blue\"\n      name=\"training\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"book\" />\n      Training\n    </Menu.Item>\n    <Menu.Item\n      active={currentTab === 'debugging'}\n      color=\"brown\"\n      name=\"debugging\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"pencil\" />\n      Debugging\n    </Menu.Item>\n    <Menu.Item\n      active={currentTab === 'results'}\n      color=\"orange\"\n      name=\"results\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"lightning\" />\n      Results\n    </Menu.Item>\n    <Menu.Item\n      active={currentTab === 'about'}\n      color=\"teal\"\n      name=\"about\"\n      onClick={onChangeTab}\n    >\n      <Icon name=\"idea\" />\n      About\n    </Menu.Item>\n  </Menu>\n);\nMenuTop.propTypes = {\n  currentTab: PropTypes.string.isRequired,\n  onChangeTab: PropTypes.func.isRequired\n};\n\nexport default MenuTop;\n","import moment from 'moment';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Timer = ({ isVisibleSolution, solution, timerCurrentValue }) => (\n  <div className=\"timer\">\n    <p>{moment(timerCurrentValue).format('mm:ss:SSS')}</p>\n    {isVisibleSolution && solution && <p>{solution}</p>}\n  </div>\n);\n\nTimer.propTypes = {\n  isVisibleSolution: PropTypes.bool.isRequired,\n  solution: PropTypes.string,\n  timerCurrentValue: PropTypes.number.isRequired\n};\n\nexport default Timer;\n","import React from 'react';\nimport { List, Segment } from 'semantic-ui-react';\n\nconst tipsList = [\n  {\n    header: 'Enter / Space',\n    description: '... -> start timer -> stop timer -> save result -> ...'\n  },\n  {\n    header: 'r',\n    description: 'Randomize new algorithm'\n  },\n  {\n    header: 'Shift (hold)',\n    description: 'Take a peek at the solution'\n  },\n  {\n    header: 'Control',\n    description: 'Show / hide the solution'\n  },\n  {\n    header: 'Backspace / Delete / Escape',\n    description: \"Reset timer - don't save the solution\"\n  }\n].map(tip => ({ ...tip, icon: 'lightbulb outline' }));\n\nconst TipsAndTricks = () => (\n  <Segment>\n    Shortcuts list:\n    <List celled inverted items={tipsList} />\n  </Segment>\n);\n\nexport default TipsAndTricks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Segment } from 'semantic-ui-react';\n\nimport Timer from './timer';\n\nconst TrainingMain = ({\n  onChangeAlgorithm,\n  currentAlgorithm: { image, scramble, solution } = {},\n  isVisibleSolution,\n  timerCurrentValue\n}) => (\n  <section className=\"training-main\">\n    {scramble && <Segment className=\"scramble-segment\">{scramble}</Segment>}\n    {image && (\n      <Segment className=\"image-segment\">\n        <img src={`/images/${image}`} />\n      </Segment>\n    )}\n    <Segment className=\"timer-segment\">\n      <Timer\n        isVisibleSolution={isVisibleSolution}\n        solution={solution}\n        timerCurrentValue={timerCurrentValue}\n      />\n    </Segment>\n    {(image || solution) && (\n      <Segment>\n        <Button primary onClick={() => onChangeAlgorithm()}>\n          Randomize new\n        </Button>\n      </Segment>\n    )}\n  </section>\n);\n\nTrainingMain.propTypes = {\n  currentAlgorithm: PropTypes.object,\n  isVisibleSolution: PropTypes.bool.isRequired,\n  onChangeAlgorithm: PropTypes.func.isRequired,\n  timerCurrentValue: PropTypes.number.isRequired\n};\n\nexport default TrainingMain;\n","export const getAverage = results => {\n  if (!results || results.length === 0) {\n    return 0;\n  }\n\n  return Math.round(\n    results.reduce((sum, result) => sum + result, 0) / results.length\n  );\n};\n","import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\n\nimport Container from './components/container';\n\nimport 'rc-slider/assets/index.css';\nimport 'react-semantic-toasts/styles/react-semantic-alert.css';\n\nMeteor.startup(() => {\n  render(<Container />, document.getElementById('render-target'));\n});\n","const allowedMoves = [\n  'F',\n  \"F'\",\n  'F2',\n  'B',\n  \"B'\",\n  'B2',\n  'R',\n  \"R'\",\n  'R2',\n  'L',\n  \"L'\",\n  'L2',\n  'U',\n  \"U'\",\n  'U2',\n  'D',\n  \"D'\",\n  'D2'\n];\n\nconst getRandomMove = () =>\n  allowedMoves[Math.floor(Math.random() * allowedMoves.length)];\nconst movesConflict = (moveA, moveB) =>\n  moveA &&\n  moveB &&\n  moveA.split('').some(character => moveB.includes(character));\n\nexport const getRandomScramble = movesNr => {\n  const moves = [];\n\n  let move;\n  let previousMove;\n  for (let i = 0; i < movesNr; i++) {\n    move = getRandomMove();\n    while (movesConflict(move, previousMove)) {\n      move = getRandomMove();\n    }\n\n    previousMove = move;\n    moves.push(move);\n  }\n\n  return moves.join(' ');\n};\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nimport { expect } from 'chai';\n\nexport const Algorithms = new Mongo.Collection('algorithms');\n\nMeteor.methods({\n  'algorithms.toggleActive': (algId, active) => {\n    check(active, Boolean);\n    check(algId, String);\n\n    Algorithms.update(algId, { $set: { active } });\n  },\n  'algorithms.activateAll': category => {\n    Algorithms.update(\n      { category },\n      { $set: { active: true } },\n      { multi: true }\n    );\n  },\n  'algorithms.deactivateAll': category => {\n    Algorithms.update(\n      { category },\n      { $set: { active: false } },\n      { multi: true }\n    );\n  },\n  'algorithms.insert': ({\n    category,\n    image,\n    scramble,\n    solution,\n    subtype,\n    type\n  }) => {\n    expect(category).to.be.a('string');\n    expect(image).to.be.a('string');\n    expect(scramble).to.be.a('string');\n    expect(solution).to.be.a('string');\n    expect(subtype).to.be.a('string');\n    expect(type).to.be.a('string');\n\n    // Make sure the user is logged in before inserting a algorithm\n    /* if (! Meteor.userId()) {\n         throw new Meteor.Error('not-authorized');\n     }*/\n\n    const doc = {\n      createdAt: new Date(),\n      category,\n      image,\n      scramble,\n      solution,\n      subtype,\n      type\n    };\n\n    Algorithms.insert(doc);\n  },\n  'algorithms.search'(text) {\n    check(text, String);\n\n    return Algorithms.find();\n  },\n  'algorithms.remove'(algorithmId) {\n    check(algorithmId, String);\n\n    /*const algorithm = Algorithms.findOne(algorithmId);\n    if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n      // If the algorithm is private, make sure only the owner can delete it\n          throw new Meteor.Error('not-authorized');\n    }*/\n\n    Algorithms.remove(algorithmId);\n  } /*,\n    'algorithms.setChecked'(algorithmId, setChecked) {\n        check(algorithmId, String);\n        check(setChecked, Boolean);\n\n        const algorithm = Algorithms.findOne(algorithmId);\n        if (algorithm.private && algorithm.owner !== Meteor.userId()) {\n              // If the algorithm is private, make sure only the owner can check it off\n                  throw new Meteor.Error('not-authorized');\n            }\n\n        Algorithms.update(algorithmId, { $set: { checked: setChecked } });\n    },\n    'algorithms.setPrivate'(algorithmId, setToPrivate) {\n        check(algorithmId, String);\n        check(setToPrivate, Boolean);\n\n        const algorithm = Algorithms.findOne(algorithmId);\n\n        // Make sure only the algorithm owner can make a algorithm private\n        if (algorithm.owner !== Meteor.userId()) {\n            throw new Meteor.Error('not-authorized');\n        }\n\n        Algorithms.update(algorithmId, { $set: { private: setToPrivate } });\n    },*/\n});\n","import { Meteor } from 'meteor/meteor';\nimport { Mongo } from 'meteor/mongo';\nimport { check } from 'meteor/check';\n\nexport const Results = new Mongo.Collection('results');\n\nMeteor.methods({\n  'results.insert': ({ algorithmId, category, real, scramble, time }) => {\n    check(category, String);\n    check(real, Boolean);\n    check(time, Number);\n\n    if (category === 'OLL' || category === 'PLL' || category === '3x3x3') {\n      check(scramble, String);\n    }\n\n    if (category === 'OLL' || category === 'PLL') {\n      check(algorithmId, String);\n    }\n\n    // Make sure the user is logged in before inserting a result\n    /* if (! Meteor.userId()) {\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n    const doc = {\n      algorithmId,\n      category,\n      createdAt: new Date(),\n      real,\n      scramble,\n      time\n    };\n\n    Results.insert(doc);\n  },\n  'results.search': text => {\n    check(text, String);\n\n    return Results.find();\n  },\n  'results.remove': resultId => {\n    check(resultId, String);\n\n    /*const result = Results.findOne(resultId);\n     if (result.private && result.owner !== Meteor.userId()) {\n     // If the result is private, make sure only the owner can delete it\n     throw new Meteor.Error('not-authorized');\n     }*/\n\n    Results.remove(resultId);\n  }\n});\n","import * as fs from 'fs';\nimport { algorithm, line, OLLs, PLLs, point } from '../server/imports/const';\n\ntype strikeFormatted = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  fill: string;\n};\n\ntype squareFormatted = strikeFormatted & {\n  stroke: string;\n  strokeWidth: number;\n};\n\ntype marker = {\n  points: point[];\n  angle: number;\n};\n\nconst filesPath: string = '../public/images/';\n\nconst getSVGcontent = (\n  { squares, strikes, lines = [] }: algorithm,\n  squareLength: number,\n  spacingLength: number = squareLength / 10\n): string => {\n  const cubeSize = squares[0].length;\n\n  console.log('lines', lines);\n\n  const colorPrimary = '#ffff45';\n  const colorSecondary = 'gray';\n  const colorBackground = 'black';\n\n  const squaresFormatted: squareFormatted[][] = squares.map(\n    (row: number[], rowIndex: number) =>\n      row.map((face, columnIndex) => ({\n        x: spacingLength * 2 + columnIndex * (squareLength + spacingLength),\n        y: spacingLength * 2 + rowIndex * (squareLength + spacingLength),\n        width: squareLength,\n        height: squareLength,\n        fill: face ? colorPrimary : colorSecondary,\n        stroke: colorBackground,\n        strokeWidth: spacingLength\n      }))\n  );\n\n  const getStrikePosition = (index: number): number => {\n    if (index === 0) {\n      return 0.5 * spacingLength;\n    }\n\n    if (index - 1 === cubeSize) {\n      return 1.5 * spacingLength + (index - 1) * (spacingLength + squareLength);\n    }\n\n    return spacingLength * 2 + (index - 1) * (spacingLength + squareLength);\n  };\n\n  const strikesTop: strikeFormatted[] = strikes[0]\n    ? strikes[0].map((strike: number, strikeIndex: number) => ({\n        x: getStrikePosition(strikeIndex + 1),\n        y: getStrikePosition(0),\n        width: squareLength,\n        height: spacingLength,\n        fill: strike ? colorPrimary : ''\n      }))\n    : [];\n\n  const strikesRight: strikeFormatted[] = strikes[1]\n    ? strikes[1].map((strike: number, strikeIndex: number) => ({\n        x: getStrikePosition(cubeSize + 1),\n        y: getStrikePosition(strikeIndex + 1),\n        width: spacingLength,\n        height: squareLength,\n        fill: strike ? colorPrimary : ''\n      }))\n    : [];\n\n  const strikesBottom: strikeFormatted[] = strikes[2]\n    ? strikes[2].map((strike: number, strikeIndex: number) => ({\n        x: getStrikePosition(strikeIndex + 1),\n        y: getStrikePosition(cubeSize + 1),\n        width: squareLength,\n        height: spacingLength,\n        fill: strike ? colorPrimary : ''\n      }))\n    : [];\n\n  const strikesLeft: strikeFormatted[] = strikes[3]\n    ? strikes[3].map((strike: number, strikeIndex: number) => ({\n        x: getStrikePosition(0),\n        y: getStrikePosition(strikeIndex + 1),\n        width: spacingLength,\n        height: squareLength,\n        fill: strike ? colorPrimary : ''\n      }))\n    : [];\n\n  const strikesFormatted: strikeFormatted[][] = [\n    strikesTop,\n    strikesRight,\n    strikesBottom,\n    strikesLeft\n  ];\n\n  const getCenter = ({ x: squareX, y: squareY }: point) => {\n    const x =\n      2 * spacingLength +\n      0.5 * squareLength +\n      (spacingLength + squareLength) * squareX;\n    const y =\n      2 * spacingLength +\n      0.5 * squareLength +\n      (spacingLength + squareLength) * squareY;\n\n    return { x, y };\n  };\n\n  const getPoints = (line: line): line => line.map(point => getCenter(point));\n\n  const lineToMarker = (pointA: point, pointB: point) => {\n    const pointC = {\n      x: pointA.x + Math.abs(pointB.x - pointA.x),\n      y: pointA.y\n    };\n\n    const rotationAngle =\n      (Math.atan2(pointB.y - pointA.y, pointB.x - pointA.x) * 180) / Math.PI -\n      Math.atan2(pointC.y - pointA.y, pointC.x - pointA.x);\n\n    const leftBackPoint = {\n      x: pointB.x - 0.25 * squareLength,\n      y: pointB.y - 0.25 * squareLength\n    };\n\n    const rightBackPoint = {\n      x: pointB.x - 0.25 * squareLength,\n      y: pointB.y + 0.25 * squareLength\n    };\n\n    console.log('pointA', pointA);\n    console.log('pointB', pointB);\n    console.log('leftBackPoint', leftBackPoint);\n    console.log('rightBackPoint', rightBackPoint);\n\n    return {\n      points: [leftBackPoint, pointB, rightBackPoint],\n      angle: rotationAngle\n    };\n  };\n\n  const getMarkers = (line: line): marker[] => {\n    const markers = [];\n\n    for (let i = 0; i < line.length; i++) {\n      if (i > 0) {\n        markers.push(lineToMarker(line[i - 1], line[i]));\n      }\n    }\n\n    markers.push(lineToMarker(line[line.length - 1], line[0]));\n\n    return markers;\n  };\n\n  const linesFormatted: line[] = lines.map(line => getPoints(line));\n\n  const boardSize: number =\n    spacingLength * 3 + cubeSize * (squareLength + spacingLength);\n\n  const content: string = `\n    <svg \n      xmlns=\"http://www.w3.org/2000/svg\" \n      width=\"${boardSize}\"\n      height=\"${boardSize}\"\n    >\n      <!-- BACKGROUND -->\n      <rect \n        width=\"${boardSize}\"\n        height=\"${boardSize}\"\n        fill=\"${colorBackground}\"  \n      />\n      \n      <!-- SQUARES -->\n      ${squaresFormatted\n        .map(row =>\n          row\n            .map(\n              square => `\n                <rect \n                  x=\"${square.x}\" \n                  y=\"${square.y}\" \n                  width=\"${square.width}\"\n                  height=\"${square.height}\"\n                  fill=\"${square.fill}\"\n                />\n              `\n            )\n            .join('')\n        )\n        .join('')}\n      \n          \n      <!-- STRIKES -->\n      ${strikesFormatted\n        .map(strikeGroup =>\n          strikeGroup\n            .filter(strike => strike.fill)\n            .map(\n              strike => `\n                <rect \n                  x=\"${strike.x}\" \n                  y=\"${strike.y}\" \n                  width=\"${strike.width}\"\n                  height=\"${strike.height}\"\n                  fill=\"${strike.fill}\"\n                />\n              `\n            )\n            .join('')\n        )\n        .join('')}\n      \n      <!-- LINES -->\n      ${linesFormatted.map(\n        line => `\n          <polyline \n          points=\"${line.reduce(\n            (points, point) => `${points} ${point.x},${point.y}`,\n            ''\n          ) + ` ${line[0].x},${line[0].y}`}\" \n          fill=\"none\" \n          stroke=\"orange\" \n          stroke-width=\"3\"\n          />\n        `\n      )}\n      \n      <!-- MARKERS -->\n      ${linesFormatted\n        .map((line: line) =>\n          getMarkers(line)\n            .map(\n              ({ points, angle }: { points: point[]; angle: number }) => `\n                <polygon \n                  points=\"${points.reduce(\n                    (points: string, point: point) =>\n                      `${points} ${point.x},${point.y}`,\n                    ''\n                  )}\"\n                  fill=\"red\" \n                  transform=\"\n                  translate(${points[1].x} ${points[1].y}) \n                  rotate(${angle} 0 0) \n                  translate(${-1 * points[1].x} ${-1 * points[1].y})\"\n                />\n              `\n            )\n            .join('')\n        )\n        .join('')}\n    </svg>\n  `;\n\n  return content;\n};\n\nconst writeFile = (\n  path: string,\n  name: string,\n  extension: string,\n  content: string\n) => {\n  return new Promise(resolve => {\n    fs.writeFile(`${path}${name}${extension}`, content, err => {\n      if (err) {\n        throw err;\n      }\n\n      resolve(`File ${name} created successfully`);\n    });\n  });\n};\n\n/* write files */\nOLLs.filter((OLL: algorithm) => OLL.squares).forEach(\n  async (scramble: algorithm) => {\n    const content = getSVGcontent(scramble, 25, 3);\n    const result = await writeFile(filesPath, scramble.name, '.svg', content);\n    console.info(result);\n  }\n);\n\nPLLs.filter((PLL: algorithm) => PLL.lines && PLL.lines.length).forEach(\n  async (scramble: algorithm) => {\n    const content = getSVGcontent(scramble, 25, 3);\n    const result = await writeFile(filesPath, scramble.name, '.svg', content);\n    console.info(result);\n  }\n);\n"]}}]